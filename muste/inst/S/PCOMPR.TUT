üTa1@bTIA1@Creturn@@GEnd0@@@!T!1@CSURVOPCO@;SUR-SAVETb0@0@&TgC1@C1@C!@C1@C1@SCRATCH€TIA1@C(empty)@@GH@@TIA1@C?@@GH@@TIA3@C@GA@@GA@TXH@üPrincipal components analysis (from the correlation matrix)       This sucro must be activated in the form                          /PCOMPR CORR,MSN,M,PCOMP,PCOMPV,PCOEFF,PCOCENT                    where CORR is the correlation matrix and MSN is the matrix of     means and std.devs of the sample (obtained directly by CORR).     M gives the number of principal components to be computed.        If MSN is given as * , means=0, std.devs=1 are assumed.                                                                             The results are saved in matrix files as follows:                                                               default matrix name Principal component loadings           PCOMP          PCOMP.M     Variances of components                PCOMPV         PCOMPV.M    Coefficients of pcomp scores           PCOEFF         PCOEFF.M    Variances of components (percentages)  PCOCENT        PCOCENT.M   üTp        Press ENTER!@TVC600@_@@Tp@T!1@CSURVOPCO@;SUR-RESTORETLGEnd@üüüüTXA@TIA7@C@GB@@GB@T!7@CPCOCENT.M@TIA6@C@GB@@GB@T!6@CPCOEFF.M@TIA5@C@GB@@GB@T!5@CPCOMPV.M@TIA4@C@GB@@GB@T!4@CPCOMP.M@TXB@TIA2@C*@GS2@@GS2@MAT &MSN==(*,1:2)€TIA1@CMATerr@@GErr@@üMAT TRANSFORM &MSN BY J#-1€üT!2@C&MSN@TXS2@MAT DIM =€TIA1@CMATerr@@GErr@@MAT DIM @2€TIA1@CMATerr@@GErr@@TgC1@C1@C!@C1@C1@SCRATCH €µ/PCOMPR return to current jobMAT SPECTRAL DECOMPOSITION OF = TO &S,@5MAT DIM &SMAT &P=SUM(@5)MAT &P=INV(&P)MAT &P=100*&PMAT @5=@5'MAT NAME @5 AS Variances_of_principal_componentsMAT @5(1,0)="Variance"MAT CLABELS "PCOMP" TO @5MAT &L1=&P*@5MAT @7=ZER(2,row&S)MAT @7(1,1)=&L1MAT &T=TRI(row&S,row&S)MAT &L1=&L1*&TMAT @7(2,1)=&L1MAT NAME @7 AS Variances_of_pr.components_(in_percentages)MAT @7(1,0)="Per_cent"MAT @7(2,0)="Cumulat."MAT &L=@5MAT TRANSFORM &L BY sqrt(X#)MAT &L=DV(&L)MAT @4=&S*&LMAT @4=@4(1:row&S,1:@3)MAT NAME @4 AS Principal_componentsMAT &F=&S(*,1:@3)MAT &N=@2(*,2)MAT &N=DV(&N)MAT &N=INV(&N)MAT &F=&N*&FMAT &M=@2(*,1)MAT &M=&M'MAT &CONST=&M*&FMAT &CONST=-1*&CONSTMAT @6=CON(row&S+1,@3)MAT @6(1,1)=&CONSTMAT @6(2,1)=&FMAT @6(1,0)="Constant"MAT CLABELS "%" TO @6MAT KILL &*€@!TLGEnd1@TXErr@Tp        Matrix not found!@TVC600@_@@Tp@TXEnd0@T!1@CSURVOPCO@;SUR-RESTORETLGEnd@üTXEnd1@T!1@CSURVOPCO@;SUR-RESTORE0@&BMAT LOAD @4,END+2 / Principal component loadingsMAT LOAD @5,END+2 / Variances of principal componentsMAT LOAD @7,END+2 / Variances of components (percentages)Use @4 for factor rotation etc.and @6 for scores by LINCO <data>,@6(P1,P2,...)TXEnd@Ta-1@Tÿ
*********************************************************************
*********************************************************************

 def Wcorr=W1 Wmsn=W2 Wm=W3 Wpcomp=W4 Wcompv=W5 Wcoeff=W6 Wperc=W7




 def W1=W1
