SURVO84ED 86 250    86 S120                                                           *SAVE PR4                                                                             *LOAD PR5                                                                             *TRIM3 63,P3                                                                          *Survo User's Guide                                                                   *DEF A,6,E                                                                            -replace ????? 9.3                                                                    (                                                                                     *                                                                                     *9.3 Control and shadow characters                                                    *The printer is guided also by various characters put in the control column of        *the edit field. One can also employ shadow characters for various enhance-           *ments within printable lines. Then there is no need to insert additional control     )codes and the text on the screen is not cluttered up with extra characters.          *                                                                                     (Control characters                                                                   *Each edit line starts with a control character (in column 0) and it is normally      *an asterisk (*). For editing purposes, one can reach the control column by           *keeping down the left arrow key  ¬  long enough.                                     U    In PRINT, various control characters have the following functions:               <   -                                                                                 >         The line is not printed as such, but it contains control words in brackets  )         or PostScript code.                                                         <   /                                                                                 >         initiates a new page. A page change occurs automatically when the cur-      *         rent page becomes full. See [page_length( )].                               <   (                                                                                 >         indicates a conditional initiation of a new page. When a `(' in the control *         column has been encountered, the printing is temporarily deferred and       *         the first line below the current line with a `)' in the control column will *         be searched for. Then the PRINT program studies whether all the lines       *         between these parentheses can be printed on the current page. If not, a     *         new page will be started before printing.                                   <    )                                                                                >         see ( above.                                                                <    T                                                                                >         indicates a tab line. See 9.9.                                              <    U                                                                                >         suppresses temporarily the effect of a `T' (tab) line and trimming.         <    V                                                                                >         extends the line to full width set by - [trim( )].                          <    C                                                                                >         centers the current line within the current line width selected by the      *         control word [trim( )].                                                     <    R                                                                                >         moves the current line to the right edge according to the line width.       <    r                                                                                >         works as R, but only for odd-numbered pages.                                *                                                                                     <    <                                                                                >         initiates the first column in a printout of several columns.                <    =                                                                                >         initiates an intermediate column in a printout of several columns. At the   *         end of the previous column, a proper value for the left margin must be set  *         by [left_margin( )].                                                        <    >                                                                                >         initiates the last column.                                                  <    &                                                                                >         prints a given number of empty lines using the current line spacing. For    *         example, & 20 prints 20 empty lines.                                        *                                                                                     <    %                                                                                >         works as & above but gives the empty space (in vertical direction) in       *         dmm. For example, to make space for a picture having a height of 8.5        *         cm, a control line % 850 should be entered.                                 (                                                                                     *                                                                                     *Shadow characters                                                                    *Control words and characters are useful when entire lines and chapters are           *to be regulated. We also need, however, means for adjustments within lines.          *To avoid cryptic control sequences in the text, the Survo Editor provides extra      )shadow lines for characterwise control information.                                  (                                                                                     *A shadow line can be defined for each edit line by first moving the cursor to        *that line and pressing keys  F2:PREFIX  and  S . Then the line below the current     )line will be temporarily erased and replaced by an empty line having the label       *Shadow: instead of the line number. The shadow line thus displayed can then          *be filled by any characters and edited in a normal way. When the keys  F2            *and  S  are pressed anew, the normal display is resumed and the current con-         *tents of the shadow line registered. Usually non-blank characters of the             *shadow line create various display effects (like different color combinations,       *blinking, etc.).                                                                     *                                                                                     *Typing of shadow characters is made easier by a special keyboard sucro /S            *(activated by the key combination  F2   M   S ). According to instructions of        *that sucro, one can type any number of different shadow characters in differ-        *ent positions directly without extra key strokes.                                    *    For the common shadow characters 1,2,3,4,5,6,7, the  F5:FORMAT  key              *provides the simplest method. This key, when pressed repeatedly, selects shad-       *ows 1,2,3,4,5,6,7,space,1,2,3,... in turn. When text is typed, the current shad-     *ow will be automatically included. When some of the shadows 1-7 is select-           *ed and the space bar is pressed, the current character in the edit field will also   *receive that shadow character. Thus, with the space bar, one can easily paint        *words in the edit field with a selected shadow effect (color).                       *    The selected shadow character always appears as the last character of the        *header line of the edit field. The default character (space) appears as `0'. The     * ENTER  key restores the default shadow.                                             *                                                                                     *The shadow lines constitute an essential part of the edit field. Their number in     *one edit field is limited by default to 20, but this number can be changed by        *the REDIM operation. For example REDIM 120,80,50 redimensions the cur-               *rent edit field to have 120 lines, 80 columns (+control column) and up to 50         *shadow lines. If the allowed number of shadow lines is exceeded, an error            *message is displayed and the user is prompted to use REDIM with suitable             *parameters. When the edit field is saved by the SAVE operation, the shadow           *lines are saved with it. Similarly, when loading an edit field by LOAD, the          *shadow lines are loaded as well.                                                     *                                                                                     *Shadow lines are used to achieve desired color combinations and display ef-          *fects, but they also have special tasks in certain operations. In the text to be     *printed, the shadow characters indicate various enhancements like under-             *lining, italics, etc.                                                                *                                                                                     *Below, a mathematical expression is getting suitable shadow characters for           *printing. We have pressed keys  F2  and  S  when the cursor was on line 4 and        *now editing the shadow line thus created:                                            - [I]                                                                                 (   21  1 SURVO 84C EDITOR Sat Jun 06 19:13:57 1987        D:\P2\PRI\ 120  80 0       *    1 *                                                                              *    2 *PRINT 3,END                                                                   *    3 *Printing a mathematical expression:                                           *    4 *    (x1+x2+...+xn)2                                                           *Shadow:    662662666666263                                                           *    6 *                                                                              *                                                                                     )                                                                                     - [M]                                                                                 *                                                                                     *When the keys  F2  and  S  are pressed again, the shadow characters below line       *4 will be registered as a shadow line of the edit line 4, and the normal display     *is taken up:                                                                         - [I]                                                                                 (   13  1 SURVO 84C EDITOR Sat Jun 06 19:13:57 1987        D:\P2\PRI\ 120  80 0       *    1 *                                                                              *    2 *PRINT 3,END                                                                   *    3 *Printing a mathematical expression:                                           *    4 *    (x1+x2+...+xn)2    (various color combinations on this line)              *    5 *This line was temporarily replaced by a shadow line.                          *    6 *                                                                              *                                                                                     )                                                                                     - [M]                                                                                 UIf PRINT on line 2 is activated, we get the following printout:                      (                                                                                     - [Times(12)][line_spacing(14)]                                                       *  Printing a mathematical expression:                                                *      (x1+x2+...+xn)2                                                                *  This line was temporarily replaced by a shadow line.                               R                                                                                     )                                                                                     - [M]                                                                                 *In this example, we used shadow characters `6',`2' and `3' for italicizing,          *subscripts and superscrips, respectively. In fact, digits 1,2,...,7 as shadow char-  *acters are reserved for typical enhancements in text printing according to the       (following table:                                                                     T *5       T                T                                                         *Shadow    Effect on        Effect in                                                 *character the screen       printing                                                  *space     black (on white) normal                                                    *    1     red (white)      bold                                                      *    2     gray (white)     subscript form of the current font                        *    3     blue (white)     superscript form of the current font                      *    4     white (blue)     underlining                                               *    5     blinking yellow  text on a gray backgroung                                 *    6     green (white)    oblique or italicized form of the current font            *    7     blue (light blue)white text on black background                            *    S     gray (red)       Symbol font in the current font size                      T                                                                                     )                                                                                     *The effects of the shadow characters in printing are defined by the shadow           *lines in printer drivers (or by - shadow lines in the print list). The general       *structure of a control line is then                                                  *shadow <character>: <prefix_code> <postfix_code>                                     *where the effect of any <character> is defined by two control codes. The first       *of them, <prefix_code>, is to be sent before the actual character is printed and     *the second one, <postfix_code> afterwards.                                           *    For example, if character `i' has shadow `2', the PS.DEV driver sends `i'        *according to a shadow definition                                                     *shadow 2: [SUB] [SUBN]                                                               *as a code sequence                                                                   *[SUB]i[SUBN]                                                                         *The control words [SUB] and [SUBN] are defined as PostScript functions sub           *and subn. The first of them reduces the size of the current text font to about 70    *per cent and moves the cursor slightly downwards. Then `i' is printed as a           *subscript. The second PostScript function subn (corresponding to [SUBN])             *simply restores the original font size and line position.                            *                                                                                     *In many ways, shadow characters are helpful in indicating changes of the font        *type within a line.                                                                  *    In PostScript, for example, Times-Roman, Times-Bold, and Times-Italic            *are technically not related to each other; they are separate font types. In Survo,   *however, it is reasonable to keep them derivatives of a single font `Times'.         *Thus, when using shadow characters 1=Bold and 6=Italic, the PS.DEV driver            Uis able to select a modification of a `right' font.                                  *    The next PRINT scheme                                                            - [I]                                                                                 (  13  1 SURVO 84C EDITOR Fri Jan 15 16:39:46 1988         D:\P2\PRI\ 120  80 0       *  13 *                                                                               *  14 *PRINT 15,END                                                                   *  15 - [TIMES(10)]                                                                   *  16 * Here is text as bold, underlined and in italics.                              *  17 - [SWISS(10)]                                                                   *  18 * Here is text as bold, underlined and in italics.                              *shadow:                1111  4444444444     6666666666                               *  20 - / Shadows of line 18 are displayed here for illustration, only.               *  21 - / Control lines starting with / surrounded by blanks have no effect.          *  22 *                                                                               *                                                                                     )                                                                                     - [M]                                                                                 *gives the result:                                                                    - [TIMES(10)][trim(0)]                                                                (                                                                                     *                                                                                     *    Here is text as bold, underlined and in italics.                                 - [SWISS(10)]                                                                         *    Here is text as bold, underlined and in italics.                                 - [M]                                                                                 R                                                                                     )                                                                                     *The font type may be changed within a line by defining suitable new shadow           *codes for desired fonts. For example, in the following exhibit a word in Cou-        *rier will be inserted into text in Times by defining I as the shadow of 12 point     UCourier and M as the shadow of 12 point Times:                                       - [I]                                                                                 (  13  1 SURVO 84C EDITOR Fri Jan 15 17:07:50 1988         D:\P2\PRI\ 120  80 0       *  23 *                                                                               *  24 *PRINT 25,END                                                                   *  25 - shadow I: [Courier(12)]                                                       *  26 - shadow M: [Times(12)]                                                         *  27 *                                                                               *  28 *   New control words are described by  define lines.                           *Shadow:                                      I      M                                *  30 *                                                                               *                                                                                     )                                                                                     - [M]                                                                                 *We get the following printout:                                                       - shadow : [Courier(12)]                                                             - shadow : [Times(12)]                                                               *                                                                                     U   New control words are described by  define lines.                                 R                                                                                     E                                                                                     *                                                                                     *                                                                                     *                                                                                     *                                                                                     *                                                                                     *                                                                                     *                                                                                     Shadows                                                                               	  o11111111111111111111111111111111MH                                                  111111111111111111                                                                                IM                                                                                                      (S)M                                                        I    M                                                         K                 IM                                                                                   IM                                                                                                                     I               M                                  IM                                                                                                                                                   IM                                                                       IM                                                               I    M                                          !      IM                                                                             "               IM      H                                                             #      IM                                                                             %      IM                                                                             &                                                   IM                                '      IM                                                                             (                                                 I          M                        )      IM                                                                             +                        I        M                                                   ,      IM                                                                             .      IM                                                                             /                    IM                                                               1      IM                                                                             3      IM                                                                             6              I               M                                                      7      IM                                                                             8                                     H                                               9      IM                                                                             ;                    I    M                                                           =      IM                                                                             >                    IM                                                               @                              IMI   M                                                C  11111111111111111                                                                  J                              (I        )M    (I)M                                   L  6666666                                                                            M  M                                                                     (I )         N  M   (I)M                                                                           S  M                                                                      I           T  M                                 (I )M(I)M(I)M                                    W                                                          (I        )M               `  (I    )M                                                                           d      I    M                       I              M                                  g                                                       I    M                        h                                                  I   M                              i                                                                    I   M            r                                 (I )M    (I)M                                       u  777777777777777777777777777777777777777777777777777777777777777777777777777777     v  {                                                                                  z                            k                                                        |                                                                               }                     (I )M    (I)M                                                          777777777777777777777777777777777777777777777777777777777777777777777777777777       {                                                                                           77777777777k                                                                                                                                               }          I    M                                                                            {                                                                                          662662666666263                                                                                                                               }                                     H                                                                    444444444 4444444444444444 44444444444444K                                                                      1111                                                                                  2222222222222222222222222222222222                      ¡                             333333333333333333333333333333333333                    ¢                             44444444444                                             £                             5555555555555555555555555                               ¤                             6666666666666666666666666666666666666666666666          ¥                             777777777777777777777777777777                          ª                                  I       M                                          «                                     K                                               ¬  I       M        I   M          I  M           IMK                                 ­                          IM        IM                                               ®           IM          IM                                                            ¯                  IM           IM                                                    °                                 IM             IM      I     M                      ±                                  K                                                  ²  I                     MK                                                           ³                    K                                                                ´  I           MK                                                                     µ                    I    M    I     M                                    111         ¶      1111                                                                           ·                                                          IM                         ¸                                            1111                   I     M           À                                                              I     M                Â               I    M                                                                Ä  777777777777777777777777777777777777777777777777777777777777777777777777777777     Å  {                                                                                  Æ        777777777777k                                                                È                         1111  4444444444     6666666666                             Ê                         1111  4444444444     6666666666                             Ï                                                                               }     Õ  {                                                                                  Ö                      1111  4444444444     6666666666                                Ø                      1111  4444444444     6666666666                                Ú                                                                 }                   Þ                                                       IM                            ß              IM                                                                     á  777777777777777777777777777777777777777777777777777777777777777777777777777777     â  {                                                                                  ã        777777777777k                                                                ç                                               7      7                              ê                                                                               }     í                                H                                                    ð  {                                                                                  ñ                                                   M                              ò                                                                               }     END                                                                                   