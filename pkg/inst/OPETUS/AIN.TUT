SURVO 84C SUCROS@   7@AINES1       153@AINES2      1558@AINES3      2360@AINES4      3620@AINES5      4387@AINES6      7676@AINES7     14716@TÿTa1@SCRATCH €   µµµµ Esimerkkiaineistoja, simuloidut aineistot: Yleist„    Tilastollisia toimintoja kuvattaessa tullaan k„ytt„m„„n er„it„ val-miita esimerkkiaineistoja, joita on osittain k„sitelty jo aikaisemmissayhteyksiss„.   Pieni„ havaintotaulukkoja ja -listoja otetaan jatkossakin esiinilman kummempia esittelyj„. On kuitenkin paikallaan kertoa jotainlaajemmista havaintotiedostoista, jotka perinteisesti ovat olleet esi-merkkein„ Survoa opetettaessa.   On aina suotavaa, ett„ tilastollisia menetelmi„ havainnollistetaansoveltamalla niit„ todellisiin aineistoihin. Pelk„t teoreettiset tarkas-telut ja laskelmat eiv„t riit„. Todellisten aineistojen lis„ksi on hy”-ty„ simuloiduista (matkituista) aineistoista. On mahdollista j„ljitell„sattumaa ja tilastollisia lainalaisuuksia luomalla keinotekoisia havain-toja. Survossa t„t„ tehd„„n VAR-operaatiolla, jota jo aikaisemmin esi-teltiin muuttujien muunnosten yhteydess„. N„ihin muunnoksiin saatetaanliitt„„ my”s eri jakaumien mukaan arpomalla saatuja arvoja ja n„in syn-nytt„„ kokonaan tai osittain satunnaisen n„k”ist„ tietoa.   Simuloidut aineistot ovat erityisen arvokkaita, kun tutkitaan tilas-tollisen menetelm„n toimivuutta, koska aineiston tilastolliset ominai-suudet (eli "oikeat vastaukset") tunnetaan jo etuk„teen.Tp        T„m„ sukro p„„ttyy. Paina ENTER-nappia!@TVC1200@_@GA@TXA@Tp@0T!1@C2@Ta-1@TLAINES@TÿTa1@SCRATCH €   µµµµ Havaintotiedosto KUNNAT    Suomen 464 kuntaa koskeva KUNNAT-niminen havaintotiedosto on ollutuseasti esimerkkin„ havaintotiedostoja k„sitelt„ess„. Siit„, kutenmuistakin t„ss„ esitelt„vist„ perustiedostoista, on kantamuoto ilmannormaalia .SVO-p„„tett„ opetushakemistossa 0d= .Žl„ miss„„n tapauksessa tee mit„„n muutoksia n„ihin kantatiedostoihin,koska se sotkisi useiden opetussukrojen toiminnan. Kantatiedostoista,kuten jo olet n„hnyt useaan kertaan, tehd„„n aina k„ytt”kopiok„ytt”j„rjestelm„n >COPY-komennolla.Tp        Jatka painamalla ENTER!@TVC1200@_@GA@TXA@Tp@   Tiedoston KUNNAT yksityiskohtainen rakenne onFILE STATUS KUNNAT.€Tp        T„m„ sukro p„„ttyy. Paina ENTER-nappia!@TVC1200@_@GB@TXB@Tp@0T!1@C3@Ta-1@TLAINES@TÿTa1@SCRATCH €   µµµµ Havaintotiedosto KYMMEN    Tiedoston KYMMEN kantamuodon rakenne onFILE STATUS KYMMEN.€Tp        Jatka painamalla ENTER!@TVC1200@_@GA@TXA@Tp@Ta-1@   Tiedostossa on 48 kymmenottelijalta vuoden 1973 paras tulossarjaTW5@ja taustatietoina urheilijan pituus ja paino.TW10@ Lajikohtaiset tuloksetovat kansainv„lisen pistetaulukon mukaisina pistein„.TW30@   Kymmenottelusta on saatavilla paljon laajempia ja tuoreempiatilastoja,TW5@ mutta t„m„n 1970-luvun aineiston tekee kiintoisaksi se,TW5@ett„ ottelijoiden fyysinen rakenne on vaihtelevampi kuin nykyajankymmenottelijoilla,TW5@ jotka valtaosaltaan ovat suhteellisen kookkaita.TW20@   Jos otamme pituuden perustunnusluvut STAT-komennolla,TW10@STAT KYMMEN.,0RT=1@1@+@C1@= / VARS=Pituus CLASSMAX=10TW10@Ta1@µµµµ             Ta-1@€TW50@TW10@n„emme, ett„ joukossa on ollut suhteellisen pieni„ ja ilmeisestivikkeli„ miehi„.TW10@   KYMMEN-tiedostossa on my”s mielenkiintoista tarkastella muuttujienriippuvuuksia.TW10@ Palaamme asiaan.TW10@Tp        T„m„ sukro p„„ttyy. Paina ENTER-nappia!@TVC1200@_@GB@TXB@Tp@0T!1@C4@TLAINES@TÿTa1@SCRATCH €   µµµµ Havaintotiedosto HELSINKI    Suomessa on monilta paikkakunnilta varsin pitk„aikaisia s„„nn”llisi„s„„havaintoja. Helsingin hein„kuun ilmoja koskevat tiedot on koottutiedostoksi HELSINKI:FILE STATUS HELSINKI.€Tp        Jatka painamalla ENTER!@TVC1200@_@GA@TXA@Tp@Ta-1@   Tiedostossa on keskil„mp”tilan (L„mp”) ja sadem„„r„n (Sade) lis„ksivuosiluku (Vuosi).TW10@ Havaintoja on yhteens„ 135 per„kk„iselt„ vuodelta.TW10@   Otamme n„ytteeksi 10 ensimm„isen vuoden tiedot toimituskentt„„n:TW10@FILE LOAD HELSINKI.,0RT=1@1@+@C1@=TW5@ / IND=ORDER,1,10 (ORDER on havainnon numero)TW20@€TW50@Tp        T„m„ sukro p„„ttyy. Paina ENTER-nappia!@TVC1200@_@GB@TXB@Tp@0T!1@C5@TLAINES@TÿTa1@SCRATCH €   µµµµ Aineistojen simulointi 1: Nopanheitto    Ensimm„isen„ esimerkkin„ aineiston luomisesta simuloimalla tutkimmenopanheittoa eli sellaista satunnaiskoetta, jossa tulosvaihtoehtoinaovat luvut 1,2,3,4,5,6 jokainen samalla todenn„k”isyydell„ 1/6.   T„t„ koetta on tarkasteltu jo aikaisemmin editoriaalisen laskennanyhteydess„. Nyt teemme VAR-komennolla toimituskentt„„n aineiston, jonkahavainnot vastaavat nopanheiton tuloksia.   Avainasemassa kaikissa simuloinneissa on funktio rnd(x), joka antaaumpim„hk„isen luvun v„lilt„ (0,1). Funktion rnd(x) argumentti x m„„r„„,mist„ satunnaislukujonosta funktion arvot tulevat. Jos esim. x on 1,saadaan VAR-operaatiossa aina samat per„kk„iset luvut rnd-funktionarvoiksi. Vastaavaa tapahtuu x:n arvoilla 2,3,...   Poikkeuksen muodostaa arvo x=0. T„ll”in satunnaislukujonon valintariippuu koneen kellosta ja n„in jokaisella yrityksell„ saadaan erilaisiaja ehk„ aidommin satunnaisia lukuja.   Nopan pisteluku arvotaan rnd-funktion avulla muodossa     int(6*rnd(x)+1)eli kokonaisosana v„lill„ (1,7) vaihtelevasta umpim„hk„isest„ arvosta.Tp        Jatka painamalla ENTER!@TVC1200@_@GA@TXA@Tp@Ta-1@.±   Tulevaa aineistoa varten teemme havaintotaulukon kehykset:TW10@DATA NOPPA,A,B,N,MTW10@TW5@MTW5@NTW5@ATW5@TW5@BTW5@ TW5@1TW5@TW5@XTW10@   T„ss„ on m„„ritelty 10 havainnon tila yksinumeroiselle muuttujalle X.TW10@Aineiston nimi on NOPPA.TW10@ Seuraava VAR-operaatio arpoo tulokset:TW10@VAR X=int(6*rnd(1)+1) TO NOPPATW20@€TW30@   Jos aktivoimme uudelleen,TW5@TW10@€TW20@ tulokset pysyv„t samoina,TW5@ koska rnd(1)k„ytt„„ kiinte„„ "etuk„teen arvottua" satunnaislukujonoa.TW10@   Vaihdamme argumentin 1 arvoksi 2TW5@ ja aktivoimme j„lleen.TW10@TW10@2TW10@€TW20@º TW5@Nyt saimmeuudet tulokset,TW5@ mutta ne pysyv„t samoina toistettaessa.TW10@TW10@€TW20@TW5@TW5@TW5@TW5@TW10@   Kun otamme rnd-funktion argumentiksi nollan,TW5@ syntyy jokaisellayrityksell„ erilaisia tuloksia.TW10@TW10@0TW10@€TW10@€TW10@€TW10@€TW10@€TW10@€TW10@€TW10@€TW10@€TW10@€TW10@TW5@TW5@TW10@   Aineisto NOPPA on k„ytett„viss„ tilastollisiin tarkasteluihin siin„TW5@kuin mik„ tahansa aito tilastollinen aineisto.TW10@ Laskemme tunnuslukuja:TW10@STAT NOPPA,CUR+1 / RESULTS=0TW10@€TW20@TW50@   Voimme arpoa tuloksia toistuvastiTW5@ ja laskea tunnusluvut uudelleen.TW10@Seuraa, miten esim. keskiarvo (mean) py”rii teoreettisen odotusarvon3.5 ymp„rill„:TW10@?µ         TW5@€€€€€€€€€€€€€€TW5@TW5@TW5@TW5@   Nostamme havaintom„„r„n 10:st„ 50:eenTW5@ lis„„m„ll„ yksinkertaisesti40 uutta tyhj„„ rivi„ rivien A ja B v„liin.TW10@TW10@TW5@TW5@TW5@Ta1@Ta-1@TW10@TW10@   Toistamme kokeen muutamia kertoja t„ll„ suuremmalla aineistolla:TW10@TW10@€TW10@TW10@€TW20@€€€€€€€€TW10@Tp        T„m„ sukro p„„ttyy. Paina ENTER-nappia!@TVC1200@_@GB@TXB@Tp@0T!1@C6@TLAINES@TÿTa1@SCRATCH€üGPLOT /DEL ALL€Bü   µµµµ Aineistojen simulointi 2: Pituus ja Paino    Tarkoituksena on matkia kymmenottelijoiden aineistoa KYMMENtaustamuuttujien Pituus ja Paino osalta eli tehd„ uusia havaintoja,jotka mahdollisimman hyvin muistuttavat kymmenottelijoiden vastaaviatietoja sek„ keskim„„r„isen k„ytt„ytymisen ett„ vaihtelun ja riippu-vuuden suhteen.   Laskemme ensin perustunnusluvut KYMMEN-tiedostosta ja luomme n„idenpohjalta vaiheittain simuloituja aineistoja, jotka yh„ enemm„n vastaavat"todellisuutta".   Havainnollisuuden vuoksi esit„mme simulointitulokset ensin toimitus-kent„n havaintotaulukkoina, mutta teemme lopuksi 500 havainnon aineistonmy”s havaintotiedostoksi.>COPY KYMMEN KYMMEN.SVO€Tp        Jatka painamalla ENTER!@TVC1200@_@GA@TXA@Tp@Ta-1@   Aloitamme siis laskemalla perustunnuslukuja KYMMEN-tiedoston muuttu-jista Pituus ja Paino.TW10@ K„yt„mme CORR-operaatiota.TW10@CORR KYMMEN,0RT=1@1@+@C1@= / VARS=Pituus,PainoTW10@€TW30@W0wWwWwWwWwTW30@   Muuttujan Pituus keskiarvo on = ja hajonta @2 .TW10@Vastaavat tunnusluvut muuttujalle Paino ovat @3 ja @4 .TW10@Kymmenottelijat ovat vartaloltaan sopusuhtaisiaTW5@ ja t„ll”in heid„npainonsa on melko tarkkaan suhteessa pituuteen.TW10@ T„t„ osoittaa varsinsuuri korrelaatiokerroin @5 .TW10@.±   Muuttujien riippuvuus tulee selv„sti esille my”s,TW5@ kun piirret„„nkorrelaatiodiagramma (hajontakuvio).TW10@GPLOT KYMMEN,Pituus,PainoTW5@HOME=0,0 SIZE=319,349 XSCALE=160(10)210 YSCALE=60(10)110 WAIT=10TW10@TREND=0 OUTFILE=ATW5@TW10@€TW10@.±   Simulointia varten teemme raamit 30 havainnon taulukolle PAIPIT:TW10@DATA PAIPIT A,B,N,MTW5@TW5@MTW5@NTW5@ATW5@TW5@BTW5@TW10@ Pituus   PainoTW5@   111     111TW30@   Tulemme j„ljittelem„„n aineistoa KYMMEN siten,TW5@ ett„ oletammemuuttujien olevan normaalisti jakautuneita.TW10@ T„llaisia satunnaissuureitavarten Survossa on oma funktio probit,TW5@ joka muuntaa umpim„hk„„nv„lilt„ (0,1) valitun luvun normaalijakautuneeksiTW5@ keskiarvolla 0 jahajonnalla 1.TW10@   Saamme n„it„ normaalilukuja aktivoimalla suoraanTW5@probit(rnd(0))=TW10@€TW10@€TW10@€€€€€€€€TW10@   N„m„ arvot muuttuvat pituusmuuttujan arvojen kaltaisiksi,TW5@ kunkerrotaan hajonnalla s1=@2TW5@ ja lis„t„„n t„h„n keskiarvom1== .TW10@ Katsotaan:TW10@s1*probit(rnd(0))+m1=TW10@€TW10@€€€€€€TW10@   Kun viel„ lis„t„„n 0.5 ja otetaan kokonaisosa,TW5@ arvot py”ristyv„tsopivasti:TW10@±CUR-3int(+0.5)=TW10@€TW10@€€€€TW10@   T„t„ lauseketta sopii nyt soveltaa Pituus-muuttujan arvojen laske-miseen VAR-komennolla.TW10@VAR Pituus=±CUR-3 TO PAIPITTW10@€TW20@   Saimme n„in havainnot:TW10@TW50@TW10@   Paino-muuttujan arvot kehitet„„n vastaavasti k„ytt„en hajontaas2=@4 ja keskiarvoa m2=@3 seuraavasti:TW10@VAR Paino=int(s2*probit(rnd(0))+m2+0.5) TO PAIPITTW10@€TW10@   Katsotaan, milt„ n„ytt„„:TW10@TW30@.±   Uuden aineiston tunnusluvut ovat seuraavat:TW10@CORR PAIPIT,CUR+1TW10@€TW20@WwTW30@   Niiden pit„isi olla kohtalaisen l„hell„ alkuper„isi„ keskiarvojenja hajontojen osalta.TW10@   Korrelaatiokerroin on kuitenkin vain @6 ja kaukana toivotustaarvosta @5 .TW10@   T„m„ johtuu siit„, ett„ muuttujat on toistaiseksi luotu siten,TW5@ ett„ne ovat toisistaan riippumattomia,TW5@ mik„ ei pid„ paikkaansa alkuper„i-sess„ aineistossa.TW10@.±   N„yt„mme nyt, miten oikea korrelaatiokerroin r=@5 saadaanmukaan simulointiin.TW10@ Kirjoitamme aluksi VAR-kaavion hieman toiseenmuotoon apumuuttujien U1 ja U2 avulla.TW10@VAR Pituus,Paino TO PAIPITTW10@Pituus=int(s1*U1+m1+0.5)TW10@Paino=int(s2*U2+m2+0.5)TW10@m1== s1=@2 m2=@3 s2=@4 r=@5TW10@U1=probit(rnd(0)) U2=probit(rnd(0))TW10@   Kun aktivoimme t„m„n VAR-komennon,TW5@ saamme edelleen aineiston, jossakorrelaatiota ei ole otettu huomioon.TW10@TW10@€TW10@.±   Piirr„mme t„st„ aineistosta kuvan alkuper„isen rinnalle:TW10@GPLOT PAIPIT,Pituus,PainoTW10@HOME=320,0 SIZE=319,349 XSCALE=160(10)210 YSCALE=60(10)110 WAIT=10TW10@TREND=0 INFILE=ATW5@TW10@€TW10@   Hajontakuvio on selv„sti py”re„mpi,TW5@ koska korrelaatiokerroin onpieni.TW10@TW10@   Muuttujille Pituus ja Paino saadaan korrelaatiotaTW5@ muuttamallaarvonnan perustana olevat U1- ja U2-muuttujat korreloiviksi.TW10@M„„ritell„„n ensin V1 ja V2 kuten U1 ja U2 edell„TW5@ ja sitten U1 ja U2n„iden muunnoksina seuraavasti:TW10@TW10@VTW10@TW10@VTW10@U1=V1 U2=r*V1+sqrt(1-r*r)*V2TW10@   U2 riippuu nyt sit„ enemm„n U1:st„ (eli V1:st„),TW5@ mit„ suurempi r on.TW10@Voidaan osoittaa,TW5@ ett„ muuttujien U1 ja U2 sek„ vastaavasti niidenlineaarisina muunnoksina muuttujien Pituus ja Paino teoreettinenkorrelaatiokerroin on r.TW10@   Luomme aineiston uudestaan n„ill„ kaavoilla:TW10@TW10@€TW10@TW10@€TW10@   Nyt aineistojen vastaavuus on my”s riippuvuuden osalta hyv„.TW10@.±   Teemme lopuksi vastaavan 500 havainnon aineiston tiedostoksiPAIPIT2.TW10@   Perustamme tiedoston:TW10@FILE CREATE PAIPIT2TW5@FIELDS:TW5@1 N 4 PituusTW5@2 N 4 PainoTW5@ENDTW5@TW10@€TW10@   Varaamme siihen tilat 500 havainnolle:TW10@FILE INIT PAIPIT2,500TW10@€TW10@   Kopioimme edelt„ VAR-kaavionTW5@ ja aktivoimme sen PAIPIT2-aineistolle:TW10@TW10@¹TW5@¹TW5@TW5@¹TW10@TW10@¹TW5@TW10@TW10@2TW10@€TW10@   Laskemme tunnusluvut:TW10@CORR PAIPIT2,CUR+1TW10@€TW30@TW30@   Tarkastamme tuloksen viel„ kuvasta:TW10@TW10@¹TW5@¹TW5@¹TW10@TW10@¹TW5@TW5@TW10@2TW10@€TW10@   Koska satunnaislukujen laskemisessa on koko ajan k„ytetty funktiotarnd(0),TW5@ tulos on joka kerralla hieman erilainen.TW10@ Sattuman lait pit„v„tkuitenkin huolta siit„,TW5@ ett„ em. luonnehdinnat yleens„ p„tev„t.TW10@Tp        T„m„ sukro p„„ttyy. Paina ENTER-nappia!@TVC1200@_@@Ta1@BGPLOT /DEL ALL€Ta-1@Tp@FILE DEL PAIPIT2TW10@€0T!1@C7@TLAINES@Tÿ

Ta1@SCRATCH €üGPLOT /DEL ALL€Bü   µµµµ Aineistojen simulointi 3: T„ristetyt pisteet   T„ss„ esimerkiss„ ei ole kysymys niink„„n uuden satunnaisaineistonluomisesta vaan siit„, miten satunnaistamisesta on joskus apuaaidonkin aineiston tutkimisessa.   Menemme suoraan ongelmaan, jota esittelemme KUNNAT-tiedoston avulla.>COPY KUNNAT KUNNAT.SVO€Tp        Jatka painamalla ENTER!@TVC1200@_@GA@TXA@Tp@Ta-1@   Kun piirr„mme hajontakuvia suurista aineistoista,TW5@ odotamme saavammeesim. t„m„ntapaisia esityksi„:TW10@GPLOT KUNNAT,Tulotaso,SYNT  /    WAIT=10TW10@€TW10@   Jos kuitenkin valitsemme muuttujiksi elinkeino-osuudet Teoll jaMaamet,TW5@ kuvasta tulee varsin tyls„:TW10@GPLOT KUNNAT,Teoll,MaametTW10@€TW10@   Kuvassa n„kyi vain 30 pistett„,TW5@ vaikka havaintoja pit„isi olla 464.TW10@Kuvan k”yhyys on seurausta siit„,TW5@ ett„ molemmat muuttujat ovatdiskreettej„ (ep„jatkuvia)TW5@ saaden vain arvoja 0,1,2,...,9,TW10@jolloin mahdollisia arvoyhdistelmi„kin on hyvin rajoitetusti.TW10@Pisteet yksinkertaisesti lankeavat liikaa p„„llekk„inTW5@ eik„ kuvasilloin kerro kunnolla muuttujien yhteisvaihtelusta.TW10@   Er„s tapa selvit„ ongelmasta on k„ytt„„ taulukointioperaatiota TABhajontakuvan asemasta.TW10@ Taulukko syntyy esim. n„in:TW10@TAB KUNNAT,0RT=1@1@+@C3@=TW10@VARIABLES=Maamet,TeollTW10@Maamet=0,1,2,3,4,5,6,7,8,9 Teoll=0,1,2,3,4,5,6,7,8,9TW10@TW10@€TW10@TW50@   Vaikka asiat n„kyv„t t„st„ frekvenssitaulukosta niin yksityiskohtai-sesti kuin mahdollista,TW5@ taulukkoa on aina hankalampi lukea kuinkuvallista esityst„.TW10@.±   Palaamme takaisin hajontakuvaanTW5@ ja yrit„mme parantaa sit„ "korjaile-malla" muuttujien arvoja siten,TW5@ etteiv„t ne menisi niin pahastip„„llekk„in.TW10@   Ajattelemme, ett„ todellisuudessahan elinkeino-osuudet ovat jatkuviamuuttujia v„lill„ (0,10).TW10@ Ne on vain t„ss„ py”ristetty tasaisiksikymmeniksi prosenteiksi.TW10@ Niinp„ palautamme ne takaisin jatkuviksiTW5@arpomalla jokaiselle kohtuullisen satunnaismuutoksen.TW10@Teemme t„t„ varten uudet muuttujat Teoll2 ja Maamet2 seuraavallaVAR-kaaviolla:TW10@VAR Teoll2,Maamet2 TO KUNNATTW10@Teoll2=Teoll+A*(rnd(0)-0.5)TW10@Maamet2=Maamet+A*(rnd(0)-0.5)TW10@A=0.2TW5@   "T„rist„mme" siis havaintopisteit„ siten,TW5@ ett„ ne saattavat joutuakorkeintaan et„isyydelle A/2TW5@ kummassakin suunnassa alkuper„isest„paikastaan.TW10@TW10@€TW10@   Katsomme nyt, milt„ hajontakuva n„ytt„„:TW10@GPLOT KUNNAT,Teoll2,Maamet2 /  WAIT=10TW10@€TW10@   N„imme selv„sti, miten havaintomassa ryhmittyy alkuper„istenpisteiden ymp„rille.TW10@ Ilmeisesti t„ristyss„de A kannattaa venytt„„ katta-maan kokonaislukujen v„lit t„ydelleenTW5@ eli muuttaa se arvoon 1:TW10@TW10@1  TW10@TW10@€TW10@TW10@€TW10@   Vaikka t„ristysmenettelyss„ jokaisen yksitt„isen havainnon kohdallaehk„ hieman valehdellaan,TW5@ se helpottaa paljon kuvan tilastollistatulkintaa.TW10@   Laajassa Survossa on saatavilla kaikki mahdolliset korrelaatio-diagrammat samanaikaisesti piirt„v„ PLOT-komennon muoto (Draftsman'splot),TW5@ jossa on my”s automaattinen t„ristysmahdollisuus.TW10@Tp        T„m„ sukro p„„ttyy. Paina ENTER-nappia!@TVC1200@_@@Ta1@BGPLOT /DEL ALL€Ta-1@Tp@0T!1@CX@TLAINES@Tÿ

