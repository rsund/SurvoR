SURVO84ED 81 300    81 S20                                                       *SAVE EDQ19                                                                      *LOAD EDQ                                                                        *                                                                                *SCALE?                                                                          @SCALE=<min.value>,<2nd value>,...,<max.value>                                   *(in PLOT operation for bar charts) defines the scale and the scale              *labels on the X axis (HBAR,%HBAR,MHBAR) or on the Y axis (VBAR,%VBAR,           *MVBAR).                                                                         *If SCALE is not given, scaling and labelling is automatic.                      *Observe that negative values are allowed in MHBAR and MVBAR charts              *only.                                                                           *In various HBAR type charts, the labels of cases (on the `Y axis') are aligned C*to the left according to the longest label. In variable pitch fonts and        C*long labels this convention is not always good. Therefore an extra             C*specification YSCALEPOS=<x_coord> can be given as the relative start           C*position of labels.                                                            C*In pie charts, the maximum size of the pies can be defined by giving a          *specification MAX=<value> where <value> typically exceeds the sum of            *data values in the largest pie.                                                 *@GOTO EE                                                                        *EE?                                                                             *  P = More information on plotting                                              %P=PLOT?                                                                         *@SELECT                                                                         *SHADING?                                                                        @SHADING=<list of shading values 0,1,2,...>                                      *(in PLOT operation for bar/pie charts) specifies a shading (color) for          *each section of bars/pies. The values 0,1,2,... usually refer to tones          *from "light" to "dark" on paper.                                                *In GPLOT values 0,1,2,...,15 correspond to certain colors which can be          *seen by activating the sucro command                                            */SHAD                                                                           *To match these GPLOT colors to those used in earlier Survos, set the            *system parameter 'color98' to value 1 in SURVO.APU. color98=0 should            *be otherwise preferred to. This parameter can be set temporarily in             *any GPLOT scheme by the specification C98=<0 or 1>.                             *In both PostScript and screen plots the colors may be set individually         C*by COLOR(n) specifications (in SURVO MM version 3.22+)                         C*                                                                                *  1 = COLOR(n) specifications                                                  CS  2 = Negative values in SHADING                                                *  3 = SHADEMAX specification                                                    *  4 = Positions of sectors in pie charts                                        *  5 = Color of texts (VALUES,LABELS) on shaded areas                           C*  P = More information on plotting                                              *                                                                                %1=COLORN 2=NEGSHAD 3=SHADEMAX 4=PULL 5=AUTOMCOL P=PLOT?                         *                                                                                *NEGSHAD?                                                                        *Both in PLOT and GPLOT also negative values -1,-2,... may be used               *in the SHADING list. Each negative value -n correspond to a specific            *color which must be defined by a FILL specification of the form                 *FILL(-n)=c,m,y,k where c,m,y,k are numbers on the interval (0,1) and            *give the color components according to the CMYK (Cyan, Magenta, Yellow,         *blacK) system. These values are used as such in PostScript but in GPLOT         *they are converted into the RGB (Red,Green,Blue) system.                        *                                                                                *Use of COLOR(n) specifications is recommended instead of FILL(-n).             C*@C                                                                              *.......................................................................         *This example shows how the shading values 2,3,4 (when color98=0)                *are close to selected negative values -1,-2,-3:                                 *GPLOT RGB / Activate this command!                                              *DATA RGB                                                                        *N R1 R2 G1 G2 B1 B2                                                             *A 1  1  1  1  1  1                                                              *                                                                                *SHADING=2,-1,3,-2,4,-3  GAP=0 C98=0                                             *FILL(-1)=0,1,1,0.3                                                              *FILL(-2)=1,0,1,0.3                                                              *FILL(-3)=1,1,0,0.3                                                              *.......................................................................         *Negative shading values should be preferred especially in cases where           *the final plotting is to be done by PLOT (PostScript).                          *The CMYK colors in PostScript may slightly differ from those used in            *GPLOT depending on the device used for PostScript plotting.                     *Usually a small adjustment in the last CMYK component (Black) will              *improve the correspondence.                                                     *@G SH                                                                           *                                                                                *SH?                                                                             *                                                                                *  S = More information on SHADING                                               %S=SHADING                                                                       *                                                                                *PULL?                                                                           *In pie charts any of the sectors may be pulled out by adding P after            *the shading value. The distance of the new location of the sector will          *be 20 per cent of the radius. To alter this distance, use P3 instead            *of P for 30 per cent distance, for example.                                     *If SHADING is not given, an ascending set of shading values is used             *with regular intervals.                                                         *                                                                                *@G SH                                                                           *                                                                                *SHADEMAX?                                                                       *SHADEMAX=<integer>                                                              *(specification in GPLOT and PLOT)                                               *defines the maximum number of shadings (or colors) which can be given in        *the SHADING specification.                                                      *Default is 7 in GPLOT and 11 in PLOT. Maximum value is 32.                      *@G SH                                                                           *                                                                                *LEGEND?                                                                         *Each bar/pie chart includes a list of shadings defined by SHADING.              @LEGEND=<a_string_without_spaces>                                                *gives a title for this list.                                                    *The list will be omitted by using LEGEND=-                                      *@C                                                                              *The default setting of the legend (on one row below the graph)                  *can be overridden by LEGEND of the form                                         @LEGEND=<x_coord>,<y_coord>,<#_of_columns>                                       *where the coordinates of the starting position of the legend                    *(relatively to HOME of the graph)                                               *and the number of columns to be used are given.                                 *The locations of the boxes and texts (names of variables) describing            *the shadings can be given more accurately by specifications                     *LEGEND_BOX=<x_box>,<y_box>,<box_width>,<box_height>                             *LEGEND_TEXT=<x_text>,<y_text>                                                   *where <x_box>,<y_box> describe the spacing of boxes and <box_width>,            *<box_height> (optional) give their dimensions.                                  *<x_text>,<y_text> give the starting position of the text (name of the           *variable) with respect to the low bottom corner of the current box.             *                                          (Example on the next page)            *@C                                                                              *Example: Using the extended form of LEGEND                                      *................................................................................*DATA TEST                                                                       *Name   A B C D E F                                                              *Case1  1 1 1 1 1 1                                                              *Case2  1 2 1 2 1 2                                                              *Case3  2 1 2 1 2 1                                                              *                                                                                *GPLOT TEST / TYPE=%AVBAR                                                        *XDIV=100,300,249                                                                *LEGEND=500,200,2 LEGEND_BOX=60,-40 LEGEND_TEXT=[SMALL],20,0                     *TEXTS=A A=[RED],Legend:,500,230  FRAMES=F F=480,100,120,150                     *................................................................................*@GOTO EE                                                                        *                                                                                *VALUES?                                                                         @VALUES=<image>,<distance>                                                       *(in PLOT operation for bar and pie charts) specifies values of the              *observations to be plotted in the bar/pie in question as a label.               *<image> is either of the form ###.# or ##.#%. In the latter case                *the value of the current section will plotted in percentages.                   *<distance> indicates the place of the label. <distance> is given as # of        *character widths from the lower end of bars. However, if <distance> is          *negative, labels will be positioned near the higher end of bars.                *In pie charts <distance> must be positive and it is given in 10 per cent        *units of the radius and from the center.                                        *                                                                                *To place the labels outside of the bars (in bar charts), insert an extra        *word (like 1) to the VALUES specification: VALUES=<image>,<distance>,1.         *The sign of <distance> again indicates to which end of the bars the             *labels will be placed.                                                          *                                                                                *To suppress value denotations in small bar portions and pies, use              C*VALUEMIN=<min>. Then values less than <min> are not printed in the graph.      C*                                                                                *VALUES is also available in (G)HISTO (from version 2.11).                      C*@GOTO EE                                                                        *LABELS?                                                                         @LABELS=<distance>                                                               *(in PLOT operation for bar and pie charts) specifies names of the               *variables to be plotted on the bars/pies.                                       *                                                                                *<distance> indicates the place of the label. <distance> is given                *as # of character widths from the left end of the bar in VBAR charts            *and in 10 per cent units of the radius and from the center in PIE               *charts. @GOTO EE                                                                *GAP?                                                                            @GAP=<ratio of the gap between the bars and the bar width>                       *(in PLOT operation for bar charts) has default value 2/3.                       *@C                                                                              @GAP=<gap>,<gap_start>,<gap_end>                                                 *(in PLOT operation for bar charts) gives the proportional values                *for gaps between the bars (gap), before the first bar (gap_start), and          *after the last bar (gap_end).                                                   *The default values are gap=2/3*bar_width, gap_start=gap, gap_end=0.             *@GOTO EE                                                                        *PLAN?                                                                           @PLAN=R1,R2,...                                                                  *(in PLOT operation for pie charts) specifies the setup of charts in the         *plotting area so that R1 is # of charts on the first row, R2 on the             *second etc.                                                                     *If PLAN is not given an automatic solution is generated on the basis            *of the shape of the plotting area and the number of pies. @GOTO EE              *                                                                                *ANGLE?                                                                          @ANGLE=<angle_in_degrees>                                                        *gives the start angle of the first sector in pie charts with respect            *to the X axis. Default is ANGLE=0. @GOTO EE                                     *                                                                                *PIEMAX?                                                                         @MAX=<number>                                                                    *controls the size of circles in pie charts. Default is the maximum sum of       *the values in one case.                                                         *@GOTO EE                                                                        *                                                                                *MINVALUE?                                                                       @MINVALUE=<minvalue>                                                             *(in PLOT operation for HBAR and VBAR graphs) converts barheights                *below <minvalue> to 0. Default is MINVALUE=-1e30, i.e. no conversion.           *MINVALUE can be used for clipping bars at the minimum SCALE value.              *For example, to plot data 200,250,230 as a bar chart in scale                   *SCALE=200(10)250, MINVALUE=200 could be used.                                   *@G EE                                                                           *                                                                                *BARNAMES?                                                                       @NAMES=<1 or 0>                                                                  *(in PLOT operation for bar and pie charts) specifies names of the               *observations to be plotted for each bar/pie.                                    *Default is NAMES=1, i.e. the names will be plotted.                             *By NAMES=0, the names are omitted.                                              *For example, on the screen (GPLOT), NAMES=[RED],1 implies that the              *names are written in red.                                                       *                                                                                *NAMES=<#_of_lines>,<line_space>                                                C*(in PLOT operation for vertical bar charts of type VBAR etc.)                  C*specifies the names of the observations to be plotted on several               C*lines using a given line space.                                                C*                                                                                *@G EE                                                                           *                                                                                *AUTOMCOL?                                                                       *Color of texts on bars (defined by VALUES and LABELS):                          *                                                                                *The color (black/white) can be determined automatically by                      *[autom_color(x)] where 0<=x<=1 (typically x=0.5).                               *Thus when the background (shading) is light, texts are black                    *and when the background is dark, texts appear in white.                         SThese colors may be also set individually, see COLORN?                          *.......................................................................         *Example:                                                                        *DATA TEST2                                                                      *Name     X   Y  Z                                                               *Case_1  12  17 15                                                               *Case_2   8  10 20                                                               *                                                                                *GPLOT TEST2 / TYPE=%HBAR MODE=PS                                                *PEN=[autom_color(0)][Swiss(15)]                                                 *SHADING=0,5,7                                                                   *VALUES=[autom_color(0.5)][Swissb(10)],##.#%,1                                   *.......................................................................         >EDQ-GROUPBAR /                     Show another application by |EXAMPLE|       C*@END                                                                            *                                                                                *COLORN?                                                                         *For each integer value n in the SHADING list, the color may be given            *by a COLOR(n) specification of the form                                         *COLOR(n)=c,m,y,k where c,m,y,k are numbers on the interval (0,1) and            *give the color components according to the CMYK (Cyan, Magenta, Yellow,         *blacK) system. These values are used as such in PostScript but in GPLOT         *they are converted into the RGB (Red,Green,Blue) system.                        *                                                                                *When COLOR(n) specifications are used, also texts produced by VALUES and        *LABELS specifications can be set individually by SHADING of the form            *SHADING=c1/t1,c2/t2,...                                                         *where c1,c2,... are color numbers as in SHADING=c1,c2,... and                   *d1,d2,... are color numbers for VALUES and LABELS texts.                        *For each c1,c2,...,t1,t2,... a corresponding COLOR() specification must appear. >HELP-LABTEXT /                                             See |EXAMPLE|       C*@C                                                                              *.......................................................................         *This example shows how the default colors 2,3,4 in GPLOT                        *are close to selected COLOR codes 5,6,7 given below:                            *GPLOT RGB / Activate this command!                                              *DATA RGB                                                                        *N R1 R2 G1 G2 B1 B2                                                             *A 1  1  1  1  1  1                                                              *                                                                                *SHADING=2,5,3,6,4,7  GAP=0                                                      *COLOR(5)=0,1,1,0.3                                                              *COLOR(6)=1,0,1,0.3                                                              *COLOR(7)=1,1,0,0.3                                                              *.......................................................................         *COLOR(n) specifications should be preferred especially in cases where           *the final plotting is to be done by PLOT (PostScript).                          *The CMYK colors in PostScript may slightly differ from those used in            *GPLOT depending on the device used for PostScript plotting.                     *Usually a small adjustment in the last CMYK component (Black) will              *improve the correspondence.                                                     *@G SH                                                                           *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                Shadows                                                                          )    222222222222222222222222222222                                              é  888888888888888888888888888888888888888888888888888888                        END                                                                              