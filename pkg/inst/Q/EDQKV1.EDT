SURVO84ED 81 420    81 S40                                                       *SAVE EDQKV1 / Kimmo Vehkalahti 2005                                             *LOAD EDQKV2                                                                     *LOAD EDQ                                                                        *                                                                                *INDEXKV?                                                                        @INDEX <filespec>,L                                           / K.Vehkalahti     *creates an index of given files. If <filespec> includes path, the current       *working directory is changed accordingly. The file list will appear on line L   *onwards. By default all files (*.*) are listed on line CUR+1.                   *                                                                                *Examples:                                                                       *  INDEX D:\DATA,CUR+3 / all files in D:\DATA on line CUR+3                      *  INDEX WORKDIR\*.EDT / Survo edit fields in WORKDIR on the next line           *  INDEX JOB*.SVO      / Survo data files beginning with 'JOB' on the next line  *  INDEX END+2         / all files in the current directory on line END+2        *                                                                                *There are number of specifications described on the following pages.            *@C                                                                              *General options and specifications in the INDEX operation:                      *                                                                                *The file list consists of the command, file name, comment, file size and the    *file modification date and time. The default output includes them all in above  *order. The default width is the same as the width of the visible part of the    *edit field. The dates appear in format "DD.MM.YY" and the times in format       *"HH:MM". The files are listed so that directories are first and other files     *after them in the default order of the operating system (OS).                   *                                                                                *Each file in the list is preceded by a suitable Survo command depending         *on the type of the file. The default commands are:                              *  SHOW       - edit files (.EDT)             CD         - directories           *  FILE SHOW  - data files (.SVO)             >UNZIP -lv - zip files (.ZIP)      *  /MATSHOW   - matrix files (.MAT, .M)       /CODESHOW  - code files (.BIN)     *  /TUTSHOW   - sucro files (.TUT)            /TCHSHOW   - touch chains (.TCH)   *  /GV-SHOW   - PostScript files (.PS, .EPS)  >          - executables (*.EXE)   *  GPLOT FILE - enhanced metafiles (.EMF)     SHOW       - other files (.*)      *  /OPEN      - various Windows file types (.PDF, .DOC, .XLS, .PPT, .JPG,       C*                       .JPEG, .GIF, .HTM, .HTML, .PNG, .RTF, .TIF, .TIFF)      C*Alternative commands are obtained simply by specifications <type>=<command>,    *for example: TXT=LOADP , TMP=>DEL , TUT=/ , SVO=FILE_EDIT , DIR=DD              *@C                                                                              *Specifications of INDEX are:                                                    *                                                                                S GROUPING=<list>  Files are grouped according to the <list> of file types.      S                  The directories form the first group, unless ONLY is used.    *                  An empty line is printed after each group.                    *                  Example: GROUPING=EDT,SVO,TXT                                 *                                                                                S ONLY=1           Only the files having one of the types in the                 *                  GROUPING list are printed. Default: ONLY=0 .                  *                                                                                S SORT=<rule>      Files are sorted according to <rule>, which can be one of     *                  the following: DATE, TIME, SIZE, NAME, TYPE, OS.              *                  The default is OS. The sorting order is ascending, but it can *                  be changed to descending by a preceding '-', e.g., -DATE.     *                                                                                *@C                                                                              *Specifications of INDEX (continued):                                            *                                                                                S DATE=<format>    Selects a date format. Valid formats are:                     *                  DD.MM.YY   DD/MM/YY   DDMMYY   YYMMDD   MM/DD/YY              *                  DD.MM.YYYY DD/MM/YYYY DDMMYYYY YYYYMMDD MM/DD/YYYY            *                  (DD=day, MM=month, YY(YY)=year). Default is DD.MM.YY .        *                  The date is omitted by DATE=0 .                               *                                                                                S TIME=<format>    Selects a time format. Valid formats are:                     *                  HH:MM  HH:MM:SS  HH.MM  HH.MM.SS                              *                  (HH=hour, MM=minute, SS=second). Default is HH:MM .           *                  The time is omitted by TIME=0 .                               *                                                                                S SIZE=0           File size is not printed. Default: SIZE=1 .                   *                                                                                *@C                                                                              *Specifications of INDEX (continued):                                            *                                                                                S COMMENTS=<L/R>,w Selects whether the comments are printed on the LEFT or       *                  RIGHT side of the file attributes (size, date and time).      *                  The default is LEFT. The comment width may be selected        *                  by w. The default value depends on the total width and        *                  the other fields. <L/R> can be omitted, if w is used.         *                  Examples: COMMENTS=RIGHT or COMMENTS=20 .                     *                                                                                S WIDTH=<n>        Sets the printing width. The default value is the current     *                  width of the visible part of the edit field.                  *                                                                                S CASE=<case>      Changes the output to lowercase or uppercase.                 *                  By default there is no conversion. Alternatives:              *                  CASE=LOWER or CASE=UPPER .                                    *                                                                                S OUTFILE=<file>   Directs the output to a text file. If no path is given,       *                  the file will be created in the current datapath.             *                  If the file exists, its contents will be destroyed.           *                  This option disables the output in the edit field.            *                                                                                *@C                                                                              *Specifications of INDEX (continued):                                            *                                                                                S TYPES=0          Not all file types are printed. Default: TYPES=1.             *                                                                                S CD=0             The current working directory is not changed. Default: CD=1.  *                                                                                S FORMAT=<format>  FORMAT=BARE causes only the command and the file name to be   *                  printed (corresponds to DATE=0 TIME=0 SIZE=0 COMMENTS=0).     *                                                                                *                  FORMAT=STATS counts the number of lines and words of         C*                  text files and edit files and gives them as a comment,       C*                  for example #lines=13 #words=31                              C*                                                                                *                  FORMAT=FULL adds the full path (disk and directory) to       C*                  the file names. Especially useful with CD=0.                 C*                                                                                S DISPLAY=<mode>   Selects whether the temporary output is displayed.            *                  Valid modes are ON and OFF. The default is ON.                *                  (This option is obsolete, since the general specification     *                  PRIND=0 or system parameter prind=0 are better for this.)     *                                                                                *@C                                                                              SThe specifications SINCE, BEFORE, MINBYTES and MAXBYTES (see: DD?) can also     *be used with INDEX.                                                             *                                                                                *Most of the options and specifications are shared with the DIR operation.       *However, COMMENTS and WIDTH are not available with DIR.                         *                                                                                *  S = Special forms of INDEX operation                                         C*  D = More information on desktop operations                                    %D=DESKTOP? S=SPECIAL                                                            *................................................................................*DD?                                                                             @DD <filespec>                                                / K.Vehkalahti     *displays given set of files. <filespec> can be any pathname.                    *The current datapath and the default directory are changed accordingly.         *The default is *.* (all files from the current datapath).                       *                                                                                *DD (Directory Dancer) lets you browse the files and the directories very        *freely. You can change your file and directory selections interactively.        *DD uses standard Survo tools like SHOW and FILE SHOW to display files.          *                                                                                *DD remembers the directories you have visited and finds the same point when     *you return to that directory. The directory list is obtained by pressing        *the DISK key (F4).                                                              *                                                                                *The key codes of DD can be obtained by pressing the HELP key (F1).              *                                                                                *There are three ways in DD to get a new file list on the display:               *     1) Pressing ENTER on a directory name,                                     *     2) Pressing the Load key (L) and giving a new <filespec>,                  *     3) Pressing the DISK key (F4) and selecting the directory from             *        the list by its number.                                                 *@C                                                                              *In addition, there are two special ways:                                        *                                                                                *4) Pressing the Where key (W) and giving a <filespec>, which starts a file      *   search from the given directory and its subdirectories. If no directory      *   name is given, the search starts from the current datapath. In this          *   <filespec> several disks are accepted, for instance `CDEF:ABC*.M*'. If       *   no disk is given, only the current disk is searched. If any disks but no     *   directories are given, the search starts from the root directory of each     *   disk. The files, which match the given <filespec>, are collected into a      *   new file list.                                                               *                                                                                *5) Pressing ENTER on a zip file (type .ZIP), which not only lists shortly       *   the current contents of that file, but also asks, if you wish to load        *   those files. If `Y' is answered, the files (and the directory structure)     *   inside the zip file will be unzipped to directory `DDTMP' which is           *   created on the `tempdisk'. These files (and directories) now form the        *   new file list. At this point some of the keys have different functions,      *   e.g. the EXIT key (F8) merely returns to the place where the zip file        *   was unzipped (DDTMP directory is then erased).                               *                                                                                *@C                                                                              *Deleting of files and removing of empty directories is confirmed.               *Also, if a file of the same name exists in the target directory of either       *copy or move operation, overwriting will be confirmed. But, if the target       *directory does not exist, it will be created without further questions.         *Please, note that the default answer is almost always `Y'.                      *                                                                                *The copy and delete operations correspond to the OS commands COPY and DEL.      *The move operation is a combination of these. The copy operation checks         *first, if there is enough disk space on the target drive. If not, none of       *the files will be copied.                                                       *                                                                                *The file attributes may prevent copying or deleting of a file or a directory.   *Those attributes can also be changed by DD. The files having ReadOnly,          *Hidden or System attributes are marked with a different color in the list.      *                                                                                *By pressing the Free key (F), the disk space usage on all disks is shown.       *These data are in form of a Survo data, and a ready plot scheme is included.    *By loading the lines to the edit field and activating the GPLOT command,        *a nice bar chart is produced.                                                   *                                                                                *@C                                                                              *Specifications of DD are almost the same as in INDEX:                           *                                                                                S GROUPING=<list>  Files are grouped according to the <list> of                  *                  file types. The directories form the first group.             *The files can be grouped also interactively by pressing the Group key (G).      *                                                                                S SORT=<criteria>  Files are sorted according to <criteria>. Valid               *                  criterias are: DATE, TIME, SIZE, NAME, TYPE, OS, MARK.        *                  The default is OS. The sorting order is ascending,            *                  but it can be turned to descending by preceding `-'.          *The files can be sorted also interactively by pressing the Sort key (S).        *                                                                                *The directory list file contains the last used GROUPING and SORT for every      *visited directory. This `local' information overrides any specifications        *given in the edit field. If needed, the file can be edited or even deleted      *at any time.                                                                    *                                                                                *@C                                                                              *Specifications of DD (continued):                                               *                                                                                S DATE=<format>    Selects a date format. Valid formats are:                     *                  DD.MM.YY   DD/MM/YY   DDMMYY   YYMMDD   MM/DD/YY              *                  DD.MM.YYYY DD/MM/YYYY DDMMYYYY YYYYMMDD MM/DD/YYYY            *                  (DD=day, MM=month, YY(YY)=year). Default is DD.MM.YY .        *                                                                                S TIME=<format>    Selects a time format. Valid formats are:                     *                  HH:MM  HH:MM:SS  HH.MM  HH.MM.SS                              *                  (HH=hour, MM=minute, SS=second). Default is HH:MM .           *                                                                                S TUTSTACK=1       The following facts about the file last pointed               *                  to is written to the sucro memory after exit:                 *                      W1: one of the letters D,E,F: D=directory,                *                          E=edit file, F=any other file                         *                      W2: the name of the file                                  *                      W3: the path of the file                                  *                                                                                *@C                                                                              *Specifications of DD (continued):                                               *                                                                                S SINCE=<date>     Selects only files which were modified since (on or after)    *                  the given date. The <date> can be any date, and its format    *                  may be given by DATE=<format> (see above), or TODAY, which    S                  means the current date. Also relative dates are possible      S                  with TODAY, for example TODAY-7 or even TODAY+1.              *                                                                                S BEFORE=<date>    Selects only files which were modified before the given       *                  date. The rules are identical to those of SINCE (see above).  *                                                                                S MINBYTES=<size>  Selects only files being at least <size> bytes in size.       *                                                                                S MAXBYTES=<size>  Selects only files being at most <size> bytes in size.        *                                                                                *A file is processed only if all given conditions are satisfied.                 *The previous four specifications (SINCE, BEFORE, MINBYTES, MAXBYTES) are       C*all available with the same rules in DD, WHERE, SEARCH, INDEX and DM.          C*                                                                                *  D = More information on desktop operations                                    %D=DESKTOP?                                                                      *................................................................................*WHERE?                                                                          @WHERE <filespec>                                             / K.Vehkalahti     *searches files from the disk(s) by their name. By default the found files       *are presented as a file list in another desktop operation, DD (see DD?).        *The default behaviour can be modified by various specifications, which are      *described on the following pages.                                               *                                                                                *The <filespec> can contain several disks and wildcards in the filename.         *If any disk(s) without directories are given, the search starts from the        *root directory of each disk:                                                    *    WHERE CDE:*.TMP                                                             *                                                                                *If the disk(s) are omitted (giving nothing but the filename), only the          *current directory tree is searched:                                             *    WHERE *.EDT                                                                 *                                                                                *Scanning of the files is interrupted by pressing '.' (full stop).               *WHERE can also be used from DD by the Where key (W).                            *                                                                                *There is another desktop operation (see SEARCH?), which searches the            Sgiven words inside the files.                                                   *@C                                                                              *Specifications of WHERE:                                                        *                                                                                S  WHERE=<rules>      Modifies the search in various ways. <rules> may be        *                     any combination of following: (separated by commas)        *                      SUBDIRS -> scan also the subdirectories [1]               *                        FIRST -> exit straight after first match               C*                                 (Use of TUTSTACK specification (see DD?)       *                                 may be useful, see also sucro PS-PDF)          *                           DD -> start DD with the files that matched [1]       *                              [1]: (default behaviour, c.f. SEARCH)             *                                                                                S  OUTFILE=<file>     The full pathnames of the found files are written into     S                     the given file, which is erased.                           *                                                                                SThe specifications SINCE, BEFORE, MINBYTES and MAXBYTES (see: DD?) can also     *be used with WHERE, as well as any other specifications of DD.                  *                                                                                *  D = More information on desktop operations                                    %D=DESKTOP?                                                                      *................................................................................*TREE?                                                                           @TREE <path>                                                  / K.Vehkalahti     *displays a directory tree of given path. Directories are browsed by arrow and   *other keys. The current datapath and the default directory are changed          *accordingly. By pressing ENTER, the contents of the current directory are       *displayed using DD (see DD?).                                                   *                                                                                *The number of files and the amount of bytes in each directory are also          *displayed on the screen.                                                        *                                                                                *TREE can also be used from DD by the Tree key (T).                              *@C                                                                              *Specifications of TREE are:                                                     *                                                                                S LEVEL=<n>        Only directories on levels 1-<n> are shown (0=all).           *                  Possible values are 0-9. Selection can be made also           *                  interactively by pressing one of the keys 0-9.                *                  When a level greater than 0 is selected, the filecount        *                  and the amount of bytes concern the directory and all         *                  its subdirectories. Default: LEVEL=0 .                        *                                                                                S OUTFILE=<file>   Output is written into the given file, which is erased.       *                  The file is suitable for further processing and it can        *                  be easily converted to Survo data file by FILE SAVE.          *                  See also sucro /DIRSTAT which uses this feature.              *                                                                                *  D = More information on desktop operations                                    %D=DESKTOP?                                                                      *................................................................................*MD?                                                                             @MD <directory>                                               / K.Vehkalahti     *creates the given <directory>, as well as its parent directories, if needed.    *                                                                                *  R = Removing a single directory (RD)                                          *  T = Removing a directory tree (DELTREE)                                       *  D = More information on desktop operations                                    %R=RD? T=DELTREE? D=DESKTOP?                                                     *                                                                                *RD?                                                                             @RD <directory>                                               / K.Vehkalahti     *removes the given <directory>, if it is empty.                                  *                                                                                *  T = Removing a directory tree (DELTREE)                                       *  M = Making new directories (MD)                                               *  D = More information on desktop operations                                    %T=DELTREE? M=MD? D=DESKTOP?                                                     *                                                                                *DELTREE?                                                                        @DELTREE <directory>                                          / K.Vehkalahti     *removes all files in the given <directory> and its subdirectories.              *The operation is confirmed in interactive use, but not under sucros.            *                                                                                *  M = Making new directories (MD)                                               *  R = Removing a single directory (RD)                                          *  D = More information on desktop operations                                    %M=MD? R=RD? D=DESKTOP?                                                          *                                                                                *................................................................................*SPECIAL?                                                                        *The following commands are available for special tasks of Windows environment:  *                                                                                *INDEX /SHORTNAME <long_file_name>                                              C*converts the long file name to its short representation and writes the result   *on the next line. In errorneous situations, an empty line is written.           *                                                                                *INDEX /LONGNAME <short_file_name>                                              C*converts the short file name to its long representation and writes the result   *on the next line. In errorneous situations, an empty line is written.           *                                                                                *In general, short names should be preferred, and supported with comments        *in all Survo jobs. (See DESKTOP? - item 'N' for more information).              *                                                                                *INDEX /PRINTERS,L                                                              C*writes information of local printers on line L onwards.                         *                                                                                *INDEX /WINDOWS,L                                                               C*writes the name of the Windows system directory on line L.                      *                                                                                *  D = More information on desktop operations                                    %D=DESKTOP?                                                                      *................................................................................*INDEX /LONGNAME C:\PROGRA~1\WINDOW~1                                            *C:\Program Files\Windows Media Player                                           *                                                                                *INDEX /SHORTNAME C:\Program Files\Windows Media Player                          *C:\PROGRA~1\WINDOW~1                                                            *                                                                                *INDEX /WINDOWS,CUR+1                                                            *C:\WINDOWS                                                                      *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                Shadows                                                                          +   ++++++++                                                                     ,                                                                 ++++           0   ++++                                                                         3   ++++                                                                         ;   ++++                                                                         A   ++++                                                                         F   ++++                                                                         K   ++++++++                                                                     R   +++++                                                                        U   ++++                                                                         Y   +++++++                                                                      a   +++++                                                                        c   ++                                                                           e   ++++++                                                                       o   +++++++                                                                      u                     +++++  ++++++  ++++++++     ++++++++                       Á   ++++++++                                                                     Å   ++++                                                                         Ó   ++++                                                                         Ø   ++++                                                                         Ü   ++++++++                                                                     æ   +++++                                                                        é                                            88888888888888888888888888888888    ê                    888888888888888888888888888888888888888888888888            ì   ++++++                                                                       ï   ++++++++                                                                     ñ   ++++++++                                                                                  111111                                                               +++++                                                                          +++++++            888888888888888888888888888888888888888888888888888888                         88888888888888888888888888888888                                             +++++  ++++++  ++++++++     ++++++++                       2  +++++                                                                        9  +++++++                                                                      END                                                                              