SURVO84ED 81 100    81 S30                                                       *SAVE EDQM7                                                                      *LOAD EDQ                                                                        *                                                                                *MATFILE?                                                                        @FILE SAVE MAT <matrix file> TO <Survo data file>                                *saves a matrix file to a Survo data file.                                       *The first line (row) to be copied from the matrix file is given by the          *specification FIRST=<# of first line>. Default is FIRST=1.                      *Similarly, the last row to be copied is given by LAST=<# of last row>.          *Default is the last row in the matrix.                                          *The columns of the matrix are copied to variables of the data file              *according to the column labels (8 first characters of names should              *match). If a variable corresponding to a certain matrix column does not         *exist, a new numeric variable is created. The type (1,2,4 or 8) of              *new variables can be given by TYPE=<type>. Default is TYPE=4.                   *Without a MATCH specification, all the rows will be copied to the Survo         *data file as new observations. If the first field in the data file is           *of the string type, the row labels will be copied to this field (as             *names of new observations).                                                     *However, if a specification LABEL=<name_of_variable> is given, the row          *labels are saved in this variable.                                              *If the Survo data file does not exist, a new file will be automatic-            *ally created with suitable dimensions.                                          *@C                                                                              *To extend existing observations in the Survo data file, a MATCH                 *specification can be given.                                                     *If MATCH is omitted, all the rows will be copied to the Survo                   *data file as new observations.                                                  *MATCH=<name of a string field>                                                  *specifies the field in the Survo data file whose contents should be             *equal to the label of the row to be copied.                                     *The order of the observations in the matrix file and in the data file must      *be same.                                                                        *                                                                                *By giving MATCH=# the observations are copied from the matrix file              *to the data file without a match variable, but the first row                    *to be copied will placed as the first observation in the data file.             *                                                                                *  M = More information on MAT operations                                        *  S = More information on multivariate statistical analysis                     *  F = More information on Survo data management                                 %M=MATO? S=MULTI? F=FILE? @                                                      *@SELECT                                                                         *                                                                                *MATEXPR?                                                                        *Matrix expressions in the Survo matrix interpreter                              *                                                                                *The basic MAT operations related to standard arithmetics are typically          *binary (i.e. of the form MAT C=A+B) and thus only two operands are              *in use. However, SURVO MM provides a matrix preprocessor for                    *manipulating more complicated expressions like                                  *MAT D2=(X-MY)'*INV(S)*(X-MY)                                                    *The preprocessor converts such expressions automatically into basic             *MAT commands. The above MAT command is translated within the matrix             *interpreter into 4 MAT commands                                                 *%%1=X-MY                                                                        *%%2=INV(S)                                                                      *%%2=%%2*%%1                                                                     *D2=%%1'*%%2                                                                     *where %%1,%%2,... are temporary matrix files on the current data path.          *@C                                                                              *The preprocessor is available in SURVO MM when the system parameter             *`mat_parser' (in SURVO.APU) is set to a positive value or command               *SYSTEM mat_parser=<positive_integer>                                            *is activated. The value of mat_parser should exceed the maximum length          *of the series of translated MAT commands and twice the length of the            *longest matrix expression. mat_parser=4000 (default) is recommended.            *                                                                                *The matrix expressions may contain all expressions appearing in the MAT         *commands of the form                                                            *MAT C=function_of(A,B,...).                                                     *The preprocessor does not optimize the order of operations. Typically           *operations are carried out from the left to the rigth unless otherwise          *stated by the user by extra parentheses.                                        *Example:                                                                        *MAT Y=A*(B*(C*Y))                                                               *@C                                                                              *The translated MAT commands of the last activated general expression            *are saved in the text file SURVOMAT.TMP in the subdirectory for                 *temporary files of Survo.                                                       *Thus the user may inspect how the preprocessor works by studying this           *file (using SHOW, for example).                                                 *                                                                                *Generalized matrix expressions (of more than 2 operands) cannot be              *used in matrix chains (.MTX files) but they are allowed in                      *continuous activations (with F2 ESC) and in sucros.                             *In general it is better to make matrix programs as sucros and                   *not as matrix chains (.MTX files).                                              *                                                                                *   M = More information on MAT operations                                       %M=MAT?                                                                          *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                END                                                                              