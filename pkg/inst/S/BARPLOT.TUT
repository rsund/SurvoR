üüüüTtC2@Ta1@b@!TIA1@CReturn@@GBack@@TIA1@C?@@GHelp@@TIA1@C(empty)@@GHelp@@T!1@CBARPLOT@;SUR-SAVE0@&Tb0@üüüüi3di6hT!7@CBARPLOT@T!8@C&BAR@iDTKC~TYPE@TIA20@CVBAR@@Gaa1@@TIA20@CHBAR@@Gaa1@@TIA20@CNVBAR@@Gaa1@@TIA20@CNHBAR@@Gaa1@@T!20@CHBAR@TXaa1@BCOPY 1,1 TO @6@8.SVO€FILE DEL @6@8€FILE COPY = TO @6@8€INIT 2000,100,1000€üµ/BARPLOT Return / Back to the previous workµµµµµµ/ACTIVATE + / Re-create the picture in the graphics windowµµµ/ACTIVATE & / Plot the PostScript version of the picture *GLOBAL* specifications*Header=Bar_plot_of_=FRAME=0 HEADER= PRIND=0 LEGEND=- NAMES=0 TYPE=@DINFILE=@7 OUTFILE=@7STAT @6@8,CUR+1,STATUS€i5TKC~#obs@SCRATCH€SCALE=LR2Creating a set of color intensities:    (    )=     ,     ,     ,DATA CMYK A+1,A+@5,A,A-1XXXX 1111  1.111 1.111 1.111 1.111AFILL    i  C     M     Y     KGOTO CUR+@5€B.±LR3FCLEAR A+1,A+@5 / N=@5T=10@5@-@C1@VAR C,M,Y,K TO CMYK / C=1/N     M=1/N     Y=0       K=0       IND=ORDER,1BVAR C,M,Y,K TO CMYK / C=C+C[-1] M=M+M[-1] Y=Y+Y[-1] K=K+K[-1] IND=ORDER,2,@:BVAR C,M,Y,K TO CMYK / C=1       M=1       Y=0       K=0       IND=ORDER,@5BfVAR i=-ORDER TO CMYK / IND=ORDER,1,@5VAR str(FILL)="FILL" TO CMYK / IND=ORDER,1,@5SET A+1,A+@5,A-3REPLACE "( ","(",C / LINES=A+1,A+@5REPLACE "( ","(",C / LINES=A+1,A+@5REPLACE "( ","(",C / LINES=A+1,A+@5Lr3€.±LR1üT!19@C@FILE STATUS @6@8 / MASK=#1(L) €FIND "FIELDS:"€i:wTIA10@CEND@@Glab1@@WWWWiCwTLGlab2@TXlab1@Lr1SCRATCH€FILE STATUS @6@8€FIND "FIELDS:"€TXlab1a@WWi:wTIA10@CEND@@GERR1@@i:xTIA10@CS@Glab1a@@Glab1a@WWiCwTXlab2@Lr1SCRATCH€FILE STATUS @6@8€FIND "FIELDS:"€TXlab2a@WWWWi4wTIA4@CEND@@GERR2@@TIA4@19@@Glab2a@@Lr1SCRATCH€VARS=@4 RESULTS=0STAT @6@8,CUR+1€i;TKC~min@i<TKC~max@TIN11@C0@Gscale@@@T!11@C0@TXscale@@!/XYSCALE @;,@<€0@&i9wLr2@9 VARS=@C,_&BLr1SCRATCH€.±ü+GPLOT /FIX€iAL1i:L2+CD @6€+VAR _&B=0 TO @8€..........T!21@C0@T!22@C0@TXBAR@T=21@21@+@C1@T=22@22@+@C1@TIN21@5@@@GeBAR@TIN22@C15@GaBAR@GaBAR@@T!22@C1@TXaBAR@+VAR _&B=@4 / IND=ORDER,@E€..........+GPLOT @8 / SHADING=-@FTIN21@C1@@@GbBAR@BHEADER=*Header NAMES=1 FRAME=2 INFILE=NULLTXbBAR@€..........+VAR _&B=0 / IND=ORDER,@E€TLGBAR@TXeBAR@+CD @3€.±iBL1i:L2+GPLOT /NEXT€üCOPY @A,@B,CUR€INSERT CUR+1,END-1€REPLACE "+CD ","&CD ",C€REPLACE "+VAR ","&VAR ",C€REPLACE "+GPLOT ","&PLOT ",C€DELETE CUR+1,END-1€³INFILE=€üT!21@C0@TXBARPS@T=21@21@+@C1@TIN21@5@@@GeBARPS@TwCSHADING@SHADING=-@EDEVICE=PS,&B@E.PSTLGBARPS@TXeBARPS@SCRATCH€..........int(@5/10)=€ iIwmod(@5,10)=€ iJwT!22@C0@TXJOIN@TIN25@C0@@GJOINrest@@TIN22@25@GJOINfirst@GJOINrest@GJOINrest@TXJOINfirst@&EPS JOIN &BAR@F.PSLR2S U R V O r u l e sCOPY CUR+1,CUR+1,CUR€º °TRIM 1€PUTEND CUR+1,CUR+10 =&B€T=21@22@*@C10@TXj1@i:xTIA10@C @@Gj2@@T=21@21@+@C1@º@E.PSTLGj1@TXj2@Lr2TRIM€TgCEND-1@CEND+1@C1@..........T=22@22@+@C1@TLGJOIN@TXJOINrest@TIN26@C0@@GJOINall@@&EPS JOIN &BAR@F.PST!21@C0@TXj3@T=21@21@+@C1@TIN21@26@@@Gj4@ @ETLGj3@TXj4@LR2T!21@C0@T=10@22@*@C10@TXj5@T=21@21@+@C1@T=10@10@+@C1@TIN21@26@@@Gj6@@E=&B@:.PSTLGj5@TXj6@Lr2TRIM€TIN26@C1@@@Gj6b@º 1TXj6b@TgCEND-1@CEND+1@C1@..........T=22@22@+@C1@üTXJOINall@&EPS JOIN BARPLOT.PSLR2a b c d e f g h i j k l m n o p q r s t u v w x y zT=10@C2@*@22@TgCCUR-2@CCUR@10@COPY CUR+1,CUR+1,CUR€º °TRIM 1€PUTEND CUR+1,CUR+@F =&BAR€T!21@C0@T=10@21@-@C1@TXj7@T=21@21@+@C1@T=10@10@+@C1@TIN21@22@@@Gj8@º@:.PSTLGj7@TXj8@Lr2TRIM€TIN22@C1@@@Gj9@º aTXj9@TgCEND-1@CEND+1@C1@&FILE DEL &B*.PS&CD @3.±ü+µµµµµµµPicture in the graphics window:µ (saved as an Enhanced Meta File)GPLOT FILE @6@7&µµµµµµµPicture in the PostScript graphics:µ (saved as a PostScript File)/GV-SHOW @6BARPLOT.PS>COPY @6BARPLOT.PS @3BARPLOT.PSTgC1@C1@C!@C1@C1@TLGEnd@üTXERR1@Tp        No label variable found! Press ENTER!@LOTVC600@_@GERR0@TXERR2@Tp        No numeric variable found! Press ENTER!@LOTVC600@_@GERR0@TXERR0@TLGBack@üüTXBack@Tp@T!1@CBARPLOT@;SUR-RESTORETLGEnd@TXHelp@B/BARPLOT?Q€qTXEnd@Ta-1@Tÿ BARPLOT.TUT produces a bar plot where each bar has different color
 K.Vehkalahti 27.3.98 (29.3.98)
 Modifications for SURVO MM 1.3.2001/kv (5.3.2001)
_**#**%**/***+*******************************************************@
 def Wdata=W1           Wpath=W3 Wvar=W4 WN=W5 Wtmpd=W6 Wemf=W7
 def Wcopy=W8 WSCALE=W9 Wz=W10 Wa=W11 Wb=W12 Wc=W13 Wd=W14
 def We=W15           Wrow1=W17 Wrow2=W18 Wlabel=W19 Wtype=W20
 def Wi=W21 Wj=W22                          Wn=W25 Wm=W26 Wdim=W27
 *******************************************************************

 ********************************************************************
 ********************* PostScript: **********************************

 *** up.limit 26*10=260 observations...

 ********************************************************************
 ********************************************************************
 def W1=W1
