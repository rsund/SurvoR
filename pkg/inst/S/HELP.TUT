SURVO 84C SUCROS@  57@RETURN      1053@START       1066@GROUPBAR    1334@CORRESP     2099@ROP         3187@MOUSE1      3517@HUOM        4542@COUNT1      6311@COUNT2      6357@COUNT3      6421@INSERT      6485@DELETE      6647@DELETE2     6744@CLEAR       6911@SCRATCH     7173@COPY        7325@PUTEND      7472@FRAME       7700@DAT         8408@COUNT4      9748@REDIM       9814@REDIM2     10348@TABTEST    11205@TRANSF2    11611@MAT_BASE   13317@INTSCAL    15516@INTSCAL2   16269@SAMPLE1    16936@ROP2       18023@WEIBULL    18049@ARIT1      18729@MAT_MAGI   18880@MEDITMAG   19605@SM2E       23773@VARMAT     28479@LINEDEL    29382@CONFBAND   31620@POWERS     32251@DWN        33637@ARP        35250@PLOT_MD    38244@ARMA       40926@DISTC      44794@T2TEST     45033@SCAT1      46586@ROT1       48291@REGDIAG    50182@QQPLOT     52813@POINTC     53626@POINTT     54359@P_TRIPLE   55275@PYRAMID    55303@LINEINS    56586@CONTFRAC   59147@TRANSPOS   61150@CODES      62091@RECUR      63340@TÿTtC0@b²YTÿüTa1@TgC1@C1@C!@C1@C1@SCRATCH€üCD <Survo>\TMP€ü@!Lo;HELP-HUOMi1œTIN1@C1@@GS@@µ/HELP-RETURN / Back to Help system!TLGT@TXS@µ/HELP-RETURN / Takaisin omaan ty”h”n!TXT@L00@&Ta-1@Tÿ                                                    20.11.2002/SM


bTa1@BSCRATCH€ µµµµµµµ Using GROUPING in bar plots DATA DDiagnosis    Symptom  None_ Mild SevereDepression      SSP     34    11      6Depression      SP      40     8      2Depression      NSP     43     6      2Anxiety         SSP     36    12      5Anxiety         SP      41     9      0Anxiety         NSP     44     3      2Hyperactivity   SP      36    12      5Hyperactivity   NSP     38    10      3GPLOT D / TYPE=%HBAR   MODE=PS             GROUPING=DiagnosisHEADER=[Swiss(15)],Prevalence_of_symptoms   XDIV=25,70,5LEGEND=Symptom_severity:  PEN=[autom_color(0)][Swiss(10)]SCALE=0(10)100 SIZE=1420,950 GAP=0.2,0.7,0.7 SHADING=0,1,7VALUES=[autom_color(0.4)][Swiss(6)],##.#%,-0.5 VALUEMIN=8FRAMES=F F=0,0,1420,950,11€Ta-1@TÿbTa1@BSCRATCH€HEADER=Fisher's_example:&              _Hair_and_eye_colors_of_children_in_Caithness,_ScotlandGPLOT COLORS,C1,C2 /     POINT=[RED],Color OUTFILE=A               SCALE=-1,0,1.5 MODE=VGA XDIV=179,380,80 YDIV=59,380,40......................................................................GPLOT CR_COORD.M,C1,C2 / POINT=[BLUE],CASE HEADER= INFILE=A               SCALE=-1,0,1.5 MODE=VGA XDIV=179,380,80 YDIV=59,380,40......................................................................DATA COLORS,A,B,N,MüMNABüFü ------  AAA    AAA   AAA   AAA  CC.CC CC.CC rrrr rrrr rrrr rrrr  aa.a aa.a ss.ss ss.ss mm.mm dd.dd Color  BLUE  LIGHT MEDIUM DARK     C1    C2   BL   LI   ME   DA  ABS1 ABS2    S1    S2  Mass  Dist Fair    326    688   343    98 Red      38    116    84    48 Medium  241    584   909   403 Dark    110    188   412   681 Black     3      4    26    85CORRESP COLORS,CUR+1 / will be activated in 5 seconds!Ta-1@TW50@€Ta1@Activated!Ta-1@TW50@TW10@€TW10@TW10@€Tÿ


bTa1@BSCRATCH€µµµµµµµ Three partially overlapping polygons with various ROP values DATA POLY14:(X,Y) 2,0.5 4,3 0,0 3,- 0,2.5 0,1 4,2 3,2.7 2,-                  4,0 4,1 2.8,1.2 2.5,3 2.3,0GPLOT POLY14,X,Y / LINE=POLYGON,5 GRID=1,1ROP=9  (Test various raster options using ROP values 0,1,2,...,15!)€Ta-1@Tÿ;HELP-STARTTa1@üi1dü µµµµµµµ Using MOUSE specification in screen plots Ta-1@FILE DEL MOUSE.MSG / Delete the text file for coordinates.TW10@€TW20@GPLOT /DEL ALL     / Delete graphics windows.TW10@€TW30@Ta1@Text will be written in a graph to a pointselected by you.WHOME=WX-WX/3,0 WSIZE=WX/3,WY/3MODE=1000,1000   / Max. coordinatesGPLOT /FRAME     / This command is activated.MOUSE=MOUSE.MSG  / Text file for coordinatesµPlease click any point in the graph!€TtC2@T!5@C0@TXA@T=5@5@+@C1@TIN5@C20@@@GB@¶TW10@CHECK =MOUSE.MSG€ i2xTIA2@CN@@GA@@¶¶LOADP MOUSE.MSGTW10@€TW10@WWTW10@i3wWTW10@i4wYou selected a point with coordinates @3,@4.TW15@Text to be plotted to this place is given, for example, byTEXTS=T T=[Swiss(50)],Text_in_(@3;@4),@3,@4TW20@üGPLOT /FIX 1 / Select the first graphics window.TW10@€TW10@üGPLOT /FRAME / Plotting again!TW10@€TW10@TLGE@TXB@You didn't click any point in the graph! Demo is interrupted!üTXE@Tÿ




üi1%help_remarkTIA1@C1@GE@@GE@SCRATCH €BWIN GET€C:Wi1wWi2wT=1@1@+@C40@T=2@2@+@C80@A=WX/3 B=WY/5WSIZE=A,B WHOME==,@2MODE=a,b       a=300 b=300TITLE=REMARK1FRAME=0  FRAMES=F,F0,F10,F20,F1,F2,F11,F21F=0,0,a,b,-1 FILL(-1)=0.1,0.1,0.1,0.1F0=[RED],3,6,a-6,b-12F10=22,30,10,20,-2  FILL(-2)=0,1,1,0F20=82,30,10,20,-2F1=20,35,10,20,-3  FILL(-3)=0,0,0,0F2=80,35,10,20,-3F11=20,35,10,20 LINETYPE=[line_width(1)]F21=80,35,10,20 MOUSE=MOUSE.MSG WSTYLE=0 TOP=1üGPLOT /FRAMETEXTS=T T=[VAR_FONT],#LINES:CUR+2,CUR+10,10,270,25i3œTIN3@C1@@GS@@üYou are now moving from the help system of SURVO MMto another Survo session, which shows the exampleyou selected.After this example please exit this temporarySurvo session either by the EXIT soft button or by/HELP - RETURN command.Cancel this remark permanently?  Yes              NoTLGT@üTXS@Olet siirtym„ss„ SURVO MM:n kyselyj„rjestelm„st„toiseen Survo-istuntoon, joka n„ytt„„ valitsemasiesimerkin.Katsottuasi esimerkin, poistu t„st„ v„liaikaisestaSurvo-istunnosta joko EXIT-painikkeella tai/HELP - RETURN -komennolla.Poistetaanko t„m„ huomautus lopullisesti?Poistetaan!   Ei poisteta!TXT@€LR1üFILE DEL MOUSE.MSG€Bi1dTXA@TtC2@TW10@Ta1@WIN CHECK REMARK1€i2xBTIA2@CN@@GD@@CHECK =MOUSE.MSG€üi2xBTIA2@CN@@GA@@TtC1@LOADP MOUSE.MSG€WWi1wWi2wTIN1@C20@GB@@@TIN1@C30@@@GB@TIN2@C35@GB@@@TIN2@C55@@@GB@COLX APU help_remark=0€SYSTEM help_remark=0€Lr1LINES=L1 L1=[line_width(2)],22,50,3,-12,3,7B€TLGC@TXB@Lr1LINES=L1 L1=[line_width(2)],82,50,3,-12,3,7B€TXC@Ta-1@TW20@TXD@Ta1@BGPLOT /DEL ALL€TgC1@C1@C!@C1@C1@SCRATCH €BTXE@Tÿ                                            23.11.2002/SM
 Tilaa "krukseille"!




;HELP-STARTCOUNT 4,21,3  111TD2@€TD0@Tÿ;HELP-STARTCOUNT CUR+3,CUR+17,CUR+1,1995  1111TD2@€TD0@Tÿ;HELP-STARTCOUNT CUR+3,CUR+17,CUR+1,0,0.5  1.1TD2@€TD0@Tÿ;HELP-STARTSET 6,22,3SurvoSystemsOyTD2@€TD0@TW10@INSERT 6,22TW10@TD2@€TD0@TW10@TD2@€TD0@TW20@TD2@€TD0@TW10@TD2@€TD0@TW10@Tÿ;HELP-STARTCOUNT 6,22,3  12.123456789TW10@€TW20@DELETE 6,22TD2@€€€€€€€€€€TD0@Tÿ;HELP-STARTCOUNT 7,22,3  12.123456789TW10@€TW10@SET 7,22,5***BTW10@€TW10@DELETE 10TW10@TD2@€TD0@TW20@BTW10@INSERTTW10@TD2@€TD0@Tÿ;HELP-STARTSET 6,22,3  SURVO MM, Environment for statistical computing and related areasTW10@€TW20@CLEAR6,22TW10@TD2@€TD0@TW10@TD2@€TD0@TW10@TD2@€TD0@Tÿ;HELP-STARTSET 6,22,3  SURVO MM, Environment for statistical computing and related areasTW10@€TW20@TW10@TW10@SCRATCHTD2@€TD0@Tÿ;HELP-STARTThese four linesare copiedto the line 15by the COPY command!COPY 3,6,15¶Theselines willbeoverwritten.¶¶TD2@€TD0@Tÿ;HELP-STARTWhen letting a sucro (survo macro)write text on consecutive linesit is typical that each linemust be terminated by an 'R'in braces.This is done for these linesas follows:PUTEND CUR-8,CUR-2,{R}TD2@€TD0@Tÿ;HELP-STARTTa1@Various FRAME settings:a=0(0.1)10  MODE=1000,1000 SIZE=800,800 HOME=100,100 TEXTS=TGPLOT Y(X)=a*sin(X) / µFRAME=0µµµµµµµ T=[RED][Arial(90)],FRAME=0,10,10GPLOT Y(X)=a*sin(X) / µFRAME=1µµµµµµµ T=[RED][Arial(90)],FRAME=1,10,10GPLOT Y(X)=a*sin(X) / µFRAME=2µµµµµµµ T=[RED][Arial(90)],FRAME=2,10,10GPLOT Y(X)=a*sin(X) / µFRAME=3µµµµµµµ T=[RED][Arial(90)],FRAME=3,10,10GPLOT Y(X)=a*sin(X) / µFRAME=4µµµµµµµ T=[RED][Arial(90)],FRAME=4,10,10GPLOT Y(X)=a*sin(X) / µFRAME=5µµµµµµµ T=[RED][Arial(90)],FRAME=5,10,10GPLOT Y(X)=a*sin(X) / µFRAME=6µµµµµµµ T=[RED][Arial(90)],FRAME=6,10,10Ta-1@TW10@TD2@€TD0@TD2@€TD0@TD2@€TD0@TD2@€TD0@TD2@€TD0@TD2@€TD0@TD2@€TD0@Tÿ;HELP-STARTTa1@Using the DAT function:Birth and death rates of countries in Oceania (1997):DATA OCEANIA,A,B,N,MüNMAü Country                   Birth_r Death_r AAAAAAAAAAAAAAAAA         1111   1111 American Samoa            26.5    4.0 Australia                 13.0    6.8 Fiji Islands              22.8    6.2 French Polynesia          22.1    5.1 Guam                      26.5    4.4 Marshall Islands          45.3    6.7 New Caledonia             20.7    4.8 New Zealand               15.0    7.4 Palau                     21.6    7.7 Papua New Guinea          32.0 Samoa                     28.8    5.4 Solomon Islands           35.9    4.1 Vanuatu                   28.5    8.3üBüTa-1@DAT_OCEANIA(New_Zealand,Birth_r)=TD2@€TD0@B=DAT_OCEANIA(Australia,Birth_r) D=DAT_OCEANIA(Australia,Death_r)TW10@B=TW10@€TW10@ D=TW10@€TW10@ B/D=TW10@€TW20@FILE DEL OCEANIA2TW10@€TW10@FILE COPY OCEANIA TO OCEANIA2 / Saving data to a data fileTW10@€TW10@See the difference:TW10@ DAT_OCEANIA(Papua_New_Guinea,Death_r)=TW10@€TW10@string variableTW20@DAT_OCEANIA2(Papua_New_Guinea,Death_r)=TW10@€TW10@numeric variableTW20@DAT_OCEANIA2(Samoa,ORDER)=TW10@€TW20@DAT_OCEANIA2(#11,Country)=TW10@€TW30@TgC1@C1@C!@C1@C1@Tÿ



;HELP-STARTCOUNT CUR+3,CUR+17,CUR+1,10,25,5  111TD2@€TD0@Tÿ;HELP-STARTUsing the REDIM commandSetting the number of lines to 700and the number of columns to 60:TW10@REDIM 700,60TD2@€TD0@TW10@Going to the last line and column...TW10@GOTO 700TW10@TD2@€TD0@This is the last line!TW10@			TW20@TD2@TD0@TW10@SCRATCHTW10@€TW10@Making a much larger edit field:TW10@REDIM 10000,200TD2@€TD0@Setting line numbers (just for illustration):TW10@COUNT 13,10000,12,13TW10@11111TW10@TD2@€TD0@TW10@This is the last line!TW20@TD2@TD0@Tÿ;HELP-STARTUsing the REDIM commandand showing how the number of shadow lines is increased automaticallyREDIM 1000,100,10TW10@TD2@€TD0@TW10@Checking the dimensions and the number of shadow lines:TW10@/DIMTW10@TD2@€TD0@TW20@ºTW20@(i.e. the 1st line above)TW20@TW10@TD2@STW20@STD0@TW10@TW10@Typing text with shadow characters (shadow 1 in this case):TW10@TD2@µTD0@TW10@2TW10@3456789101112TW10@Checking the status again:TW10@/DIMTW10@TD2@€TD0@TW20@Thus the max.number of shadow lines is now 20.TW20@Continuing (typing lines with shadow character 5):TW10@TW10@TD2@µµµµµTD0@13141516171819202122TW10@Checking the status again:TW10@/DIMTW10@TD2@€TD0@TW10@Now the max.number of shadow lines is 30.TW10@End of this demo!TW50@Tÿ;HELP-STARTUsing the TABTEST operationTW10@Testing independence of rows and columns in a small table:TW10@TABLE TEST7 2 03 1 5TW20@Assuming both column and row margins fixed:TW10@TABTEST TEST,CUR+1 / FIX=Fisher SIMUMAX=100000TD2@€TD0@TW30@Assuming columnn margins (vertical sums) fixed:TW10@TABTEST TEST,CUR+1 / FIX=CTD2@€TD0@TW30@TgC1@C1@C!@C1@C1@Tÿ;HELP-STARTTa1@   µµµµµµµ Keskeinen raja-arvolause Er„s t„rkeimpi„ tilastotieteen teorian tuottamia tuloksia ontodenn„k”isyyslaskennan keskeinen raja-arvolause.T„m„ lause sanoo, ett„ - hyvin yleisin ehdoin - riippumattomiensatunnaismuuttujien summa (ja silloin my”s niiden keskiarvo)l„hestyy jakaumaltaan normaalijakaumaa, kun yhteenlaskettavienlukum„„r„ kasvaa.Lauseesta on seurauksena mm., ett„ otoskeskiarvot ovat yleens„likimain normaalisti jakautuneita, kun otoskoko on "riitt„v„n"suuri.N„in normaalijakauma sopii l„ht”kohdaksi hyvin moniintilastollisen analyysin ja p„„ttelyn teht„viin.Keskeinen raja-arvolause ei kuitenkaan kerro sellaisenaan mit„„nsiit„, kuinka nopeasti tuo normalisoituminen tapahtuu.T„m„n sukron tarkoituksena on n„ytt„„, miten hyvin raja-arvolausetoimii k„ytt„j„n valitsemilla jakaumilla ja otoskoilla.On mahdollista havaita mm., ett„ mit„ kauempana perusjakauma onnormaalisesta, sit„ hitaampaa on tuo normalisoituminen.Tp        Paina ENTER! (tai keskeyt„ painamalla '.')@TVC1200@_@@Tp@Tarkastellaan simulointikokeen avulla todenn„k”isyyslaskennankeskeisen raja-arvolauseen toimivuutta valitsemallasi diskreetill„jakaumalla, jonka pistetodenn„k”isyydet tulee antaa vektorina P.Se ilmaisee muuttujan arvot ja niit„ vastaavat todenn„k”isyydet:MATRIX P ///0 0.41 0.12 0.03 0.14 0.4MAT SAVE P / Talleta perusjakauman pistetodenn„k”isyydet!µVoit muuttaa vektoria P ja seuraavia koetta s„„televi„ parametreja:Otoskoko=1000Koetoistoja=10000  (siis kuinka monta otosta luodaan)Siemenluku=2003    (satunnaislukugeneraattorille)/RAJASIM           µµµµµ(Aloita simulointikoe t„st„!)Ta-1@Tÿ;HELP-STARTTa1@The column and null space of a matrix AMATRIX A/// C1 C2 sum diffR1   1  2   3  -1   / The two last columns are the sum and differenceR2   5  3   8   2   / of columns C1 and C2.R3   4  2   6   2   / Thus rank(A) is simply 2.R4   6  8  14  -2R5   7  7  14   0MAT SAVE A€Ta-1@TW50@The column space C of A is computed byTW10@MAT C=BASIS(A)TW10@€MAT LOAD CTW10@€TW30@In fact, this is achieved by the following steps:TW10@TW10@MAT SVD OF A TO U,D,V / Singular value decomposition of ATW10@€TW10@MAT LOAD D            / Studying singular valuesTW10@€TW30@Obviously the rank of A is 2 and thus the dimension ofthe column space is also 2.TW20@Then the two first columns of U (corresponding to non-zero singularvalues) give an orthonormal basis for the column space:TW20@MAT LOAD U(*,1:2)TW10@TW10@€TW30@This is (up to orientation of columns) identical with C as seen,for example, byTW20@TW10@MAT U2=U(*,1:2)TW10@€MAT SOLVE Y FROM C*Y=U2TW10@€TW10@MAT LOAD YTW10@€TW30@TW20@andTW10@MAT D=C*Y-U2TW10@€MAT LOAD D,12.123456789012345,CUR+1TW10@€TW40@TW10@Correspondingly, an orthonormal basis for the null space of Ais given byTW20@MAT N=NULL(A)TW10@€TW10@MAT LOAD NTW10@€TW30@This is the same as the two last columns of V (from SVD of A)corresponding to singular values = 0:TW20@MAT LOAD V(*,3:4)TW10@€TW30@TW10@TW10@The orthonormal basis for the null space of A is obtained also bysolving the matrix equation AX=0.TW20@ This can be done byTW10@MAT SOLVE X FROM A*X=0TW10@€TW10@MAT LOAD XTW10@€TW30@TW20@TW10@This matrix also reveals linear dependencies between the columns of A.TW20@This can be presented more clearly by rescaling the X columns tointegers byTW20@MAT S=#INTSCAL(X)TW10@€TW10@MAT LOAD STW10@€TW30@TW10@Thus 2*C1-sum-diff=0 and 2*C2-sum+diff=0 telling the same assum=C1+C2 and diff=C1-C2.Tÿ;HELP-STARTTa1@Scaling the columns of a matrix A to integers:MATRIX A///  C1                    C2                    C3R1   0.3333333333333333    12/17                 5/6R2   0.7777777777777778    1                     2/3R3   2/7                   0.1212121212121212    17/9R4  -0.625                 33/34                 1/4MAT SAVE ATa-1@TW10@€TW10@Each element of A is converted (if possible) to a fraction andthese fractions are rescaled to integers by columns:TW20@MAT C=#INTSCAL(A)TW10@€TW10@MAT LOAD CTW10@€TW10@Columns of C are proportional to those of A:TW20@MAT B=ATW10@€TW10@MAT TRANSFORM B BY C and Y#/X#TW10@€TW20@MAT LOAD BTW10@€TW20@Tÿ;HELP-STARTTa1@Evaluating continued fractions:Single convergents of a continued fraction of a decimal numbercan be computed as follows:MATRIX PI///    valuepi     3.141592653589793one    1MAT SAVE PITa-1@TW10@€TW50@MAT C=#INTSCAL(PI,4) / scaling according to 4'th convergentTW20@€MAT LOAD CTW10@€TW30@Thus the 4'th convergent of pi is the famous approximation355/113=3.141592920354 .TW40@TW10@Several convergents as well partial quotients etc. are obtainedfor a single number in the following way:TW20@MAT C=#INTSCAL(3.141592653589793,8)TW20@€TW10@LOADM C,(C11),CUR+1TW20@€TW50@Tÿ;HELP-STARTTa1@Sampling rows from a matrix A:Generating a "population":Ta-1@TW50@n=100TW10@MAT A=ZER(n,5)TW10@€MAT #TRANSFORM A BY int(1000*rand(2003))TW10@€MAT RLABELS "R" TO ATW10@€A sample of 20 rows "with replacement" (Unrestricted Random Sampling)is obtained by:TW20@MAT C=#SAMPLE(A,20,URS,24565684)TW20@€MAT LOAD CTW10@€TW20@Rows R85 and R27 appear twice in this "unrestricted" sample.TW20@üBTW10@Ta1@µµµµµ                                                     Ta-1@TW10@TW10@Ta1@µµµµµ                                                     Ta-1@TW10@TW10@Ta1@µµµµµµµ                                                     Ta-1@TW10@TW10@Ta1@µµµµµµµ                                                     Ta-1@TW10@TW20@TW10@If the same is done by option SRS (Simple Random Sample),each line may appear only once:TW20@MAT C2=#SAMPLE(A,20,SRS,24565684)TW10@€MAT LOAD C2TW10@€TW50@TgC1@C1@C!@C1@C1@Tÿ
;HELP-START/ROPDEMO€Tÿ;HELP-STARTTa1@Plotting density functions of Weibull distributionMAT W=ZER(1000,6)                          / Matrix W for densitiesMAT #TRANSFORM W BY Weibull.f(1,J#,I#/200)MAT CLABELS "W" TO W                       / Columns W1,...,W5MAT W2=ZER(1000,7)                         / Space also for X valuesMAT TRANSFORM W2 BY I#/200                 / X values 0.02(0.02)5 in W2MAT W2(1,2)=W                              / W2 = [ X W1 ... W5 ]€HEADER=[Arialb(50)],Weibull_densities_W(1;n);_n=1;2;...;6GPLOT W2.MAT,1,W1,W2,W3,W4,W5,W6XSCALE=[Arial(25)],0(1)5 YSCALE=0(0.5)2.5LINE=1 TICK=0.1,0.1 YLABEL=WHOME=0,WY/2 WSIZE=WX/2,WY/2 MODE=1000,1000€Ta-1@Tÿ;HELP-STARTSimple arithmetics in editorial computing:2+2=TD2@€TD0@TW30@26*78=€(34+56)/3.5=€sqrt(49)=€1*2*3*4*5*6*7=€º        fact(7)=€Tÿ;HELP-STARTTa1@Creating a 6*6 magic square:MAT M=#MAGIC(6)Ta-1@TW30@€TW20@MAT LOAD MTW10@€TW50@Checking column and row sums:TW10@MAT S=SUM(M)TW10@€TW10@MAT LOAD S,123,CUR+1TW10@€TW20@TW10@MAT S=SUM(M')€TW10@MAT LOAD S,123,CUR+1€TW20@TW10@Checking the diagonal sum (trace):TW10@MAT S=VD(M) / Taking the diagonal€MAT T=SUM(S)€MAT_T(1,1)=TW10@€TW20@Checking the skew diagonal sum:TW10@MAT TRANSFORM S BY 6+1-I# / Permutation vectorTW10@€TW10@MAT MP=PERM(M,S)TW10@€TW10@MAT S=VD(MP) / Skew diagonalTW10@€TW10@MAT LOAD S€TW20@   / Sum in touch mode:TW10@WTW10@´·+€=Tÿ;HELP-STARTTa1@üµµµµµFILE MEDIT demo: Making a magic squareA magic square of order m is an m*m array of integers 1,2,...,m^2where all column and row sums as well as the diagonal and skew diagonalsums are the same i.e. equal to m*(m^2+1)/2.For example,          8 1 6          3 5 7          4 9 2is a 3*3 magic square.For making magic squares of odd degree (like 3,5,7,...) a simplealgorithm is available. This algorithm is demonstrated here a anapplication of the FILE MEDIT operation for m=5 where the common sum ism*(m^2+1)/2=65.In this application only one 'observation' of numbers in the magicsquare (data file MAGIC5.SVO) will be treated.Tp        Press ENTER!@Ta-1@TVC600@_@@Tp@At first a data file MAGIC5 of 25 variables Xij, i,j=1,2,...,5is created.TW20@FILE CREATE MAGIC5FIELDS:   1 NA_   1 X11   2 NA_   1 X12   3 NA_   1 X13   4 NA_   1 X14   5 NA_   1 X15Ta1@   6 NA_   1 X21   7 NA_   1 X22   8 NA_   1 X23   9 NA_   1 X24  10 NA_   1 X25  11 NA_   1 X31  12 NA_   1 X32  13 NA_   1 X33  14 NA_   1 X34  15 NA_   1 X35  16 NA_   1 X41  17 NA_   1 X42  18 NA_   1 X43  19 NA_   1 X44  20 NA_   1 X45  21 NA_   1 X51  22 NA_   1 X52Ta-1@TW5@  23 NA_   1 X53  24 NA_   1 X54  25 NA_   1 X55ENDTW20@TW10@€TW10@TW10@FILE INIT MAGIC5,1     / Initilization with one observationTW10@€TRANSFORM MAGIC5 BY 0  / Setting all values to zeroTW10@€Defining a FILE MEDIT page for a magic square:TW10@MEDIT:MAGIC_SQUARE SIZE=26,80 PAGES=Page1PAGE Page1: Making a magic square of order 5       X00: ##S 55555555555555555555555555555555       ++++SX11: ## X12: ## X13: ## X14: ## X15: ## S11: ##S++++    ++++    ++++    ++++    ++++    ++++STa1@X21: ## X22: ## X23: ## X24: ## X25: ## S22: ##S++++    ++++    ++++    ++++    ++++    ++++SX31: ## X32: ## X33: ## X34: ## X35: ## S33: ##S++++    ++++    ++++    ++++    ++++    ++++SX41: ## X42: ## X43: ## X44: ## X45: ## S44: ##S++++    ++++    ++++    ++++    ++++    ++++SX51: ## X52: ## X53: ## X54: ## X55: ## S55: ##S++++    ++++    ++++    ++++    ++++    ++++ST11: ## T22: ## T33: ## T44: ## T55: ## Y00: ##S++++    ++++    ++++    ++++    ++++    ++++STa-1@TW30@ü:üRules for making magic squares of odd order 3,5,7,...:ü:ü / These rules will be shown when using FILE MEDIT!TW20@1) Put '1' in the middle of the first row.TW10@Ta1@2) Place the next number one row higher and one column to the right   of the preceding number.3) If the new position is already occupied or it is outside of both   columns and rows, then place the number below the previous number.4) If the new position is outside only of rows, then place the number   in the last row determined by its column.5) If the new position is outside only of columns then place the number   in the last column determined by its row.6) Repeat from step 2) until the magic square is completed.Ta-1@TW20@END of Page1TW10@Giving formulas for derived cells appearing on Page1:TW10@S11=X11+X12+X13+X14+X15  sums of rowsS22=X21+X22+X23+X24+X25S33=X31+X32+X33+X34+X35S44=X41+X42+X43+X44+X45S55=X51+X52+X53+X54+X55T11=X11+X21+X31+X41+X51  sums of columnsT22=X12+X22+X32+X42+X52T33=X13+X23+X33+X43+X53T44=X14+X24+X34+X44+X54T55=X15+X25+X35+X45+X55X00=X15+X24+X33+X42+X51  diagonal sumY00=X11+X22+X33+X44+X55  skew diagonal sumTW30@TW10@üThe current  edit field is saved as MAG5.EDT.TW20@LR1TgC1@C1@C!@C1@C1@ü±1SAVE MAG5TW10@€TW20@Lr1TW10@üThe array will now be filled by integers 1,2,3,...,25 according torules given by activating FILE MEDIT with optionsW (writing permitted), T (no automatic jump to the next field):TW20@FILE MEDIT MAGIC5,MAG5:MAGIC_SQUARE / OPTIONS=WTTD2@€ü		 1	 2	 3 4	 5 6	 7	 8	 91011	12	13	14	151617	18	19	2021	2223	24	25²üTD0@See alsoMAGIC?Tÿ









;HELP-STARTTa1@µµµµµFILE MEDIT demo: Study of two variablesIn this FILE MEDIT application it is possible to study two variablesin any Survo data file.FILE MEDIT shows (by using pages SM2E) - besides data values -also the means, standard deviations and the correlation coefficientof the selected two variables.Also a scatter plot is displayed by using the MEDITS sucro.In this graph the current case appears as red dot.Outliers (more than 2 stddevs from the mean) are indicatedby verbal comments.When data is edited, the statistics will be updated correspondingly.Tp        Press ENTER!@TVC600@_@@Tp@FILE MEDIT allows this kind of "data independent" presentationby a MEDITS_VAR specification. It indicates what variables correspondto symbolic notations |X1|,|X2|,|X3|,... appearing on FILE MEDIT pages.For example,  MEDITS_VARS=Name,Length,Heightmeans that |X1| will be literally replaced by the word 'Name',|X2| by 'Length', and |X3| by 'Weight'.Tp        Press ENTER!@TVC600@_@@Tp@Listing the definition of pages SM2E (one page):Ta-1@TW20@Ta1@üFüMEDIT:SM2E SIZE=24,80 PAGES=Page1PAGE Page1: SUCRO:MEDITS|X1|: -|X2|: -            |X3|: -Mean     M1: -                M2: -S         ---                  ---SBStd.dev. S1: -                S2: -S         ---                  ---SBCorrelation coefficient R: ##.###S                        --SB:Remarks:%1 / %1=|X2|error%1 / %1=|X3|error<START> data for sucro MEDITS*GLOBAL* TEST=0FILE DEL A.EMF      <ACT>REPLACE !,.,C       <ACT>GPLOT /FIX 1        <ACT>/XYSCALE %1,%2,X    <ACT> / %1=$MIN(|X2|) %2=$MAX(|X2|)/XYSCALE %1,%2,Y    <ACT> / %1=$MIN(|X3|) %2=$MAX(|X3|) Sucro /XYSCALE writes a proper scale definition in the form XSCALE=a(b)c or YSCALE=a(b)c depending on the third parameter (X or Y). Function $MIN(variable) gives the smallest value of 'variable' and funktion $MAX(variable) the greatest value in the data set.CONTOUR=0.9,0.99 (contour ellipses on levels 0.9 and 0.99)OUTFILE=A WHOME=0.6*WX,40 WSIZE=0.4*WX,0.4*WXMODE=1000,1000 POINT=0,5 PEN=[Arialb(30)]GPLOT %1,|X2|,|X3|  <ACT> / %1=<DATA>  pathname of the data file!!!!!!!!!!IND=ORDER,%1,%2 POINT=[RED][fill_color(2)],0,10 / %1=$ORDER() %2=$ORDER()INFILE=A TOP=1GPLOT %1,|X2|,|X3|  <ACT> / %1=<DATA><END> data of sucro MEDITSENDThe mask notation '-' refers to the mask of the variable definedin the data file, for example, in the form (###.#).In derived fields mask '-' is given here by FORMAT=#######.##Definitions of derived fields:Function $MEAN(var) computes the mean of the variable,function $STDDEV(var) the standard deviation, andfunction $CORR(x,y) the correlation coefficient of variables x and y.M1=$MEAN(|X2|)       M2=$MEAN(|X3|)S1=$STDDEV(|X2|)     S2=$STDDEV(|X3|) R=$CORR(|X2|,|X3|)|X2|_dev=abs((|X2|-M1)/S1) / deviation from the meanV|X2|=if(|X2|_dev<2)then(0)else(1)|X2|error=$CLASS(|X2|_classif,V|X2|)CLASSIFICATION |X2|_classif:MISSING:0:S5S1: Exceptional |X2|!END|X3|_dev=abs((|X3|-M2)/S2)V|X3|=if(|X3|_dev<2)then(0)else(1)|X3|error=$CLASS(|X3|_classif,V|X3|)CLASSIFICATION |X3|_classif:MISSING:0:S7S1: Exceptional |X3|!END of Page1üTa-1@TW20@The current edit field is saved as SM2E.EDT.TW20@LR1TgC1@C1@C!@C1@C1@ü±1SAVE SM2ETW10@€TW20@Lr1TW10@üYou may study definitions above after seeing some applications.TW20@TW10@µµµµµµµExample 1: Data file DECATW10@Setting the 'name' variable and 2 variables to be studied:TW10@MEDIT_VARS=Name,Shot_put,DiscusTW10@0oFILE MEDIT =DECA,SM2E:SM2ETW20@üTD2@€³=max	³²TW20@TD0@üChanging variables:TW10@TW10@TW10@Height,WeightTW10@TD2@€³=min²TW20@TD0@üTW10@TW10@.±TW10@µµµµµµµExample 2: Updating statisticsTW10@Creating a data file:TW10@FILE CREATE EX2FIELDS:1 N 2 ID             (#####)2 N 2 Var13 N 2 Var2ENDTW10@TW10@€TW10@Entering 20 observations (see how statistics are updated):TW20@OPTIONS=WP (W=writing permission P=Page changes by Pg keys only)TW20@FILE MEDIT EX2,SM2E:SM2E / MEDIT_VARS=ID,Var1,Var2TW20@TD0@€12027TW30@21722TW20@32626TW20@45045TW10@54731TW10@64137TW10@7 729TW10@83229TW10@92730TW10@103333TW10@112125TW10@123033TW10@134240TW10@142428TW10@157833TW50@16 818TW10@173188TW50@182637TW10@194142TW10@203543TW50@²TW20@Please study the page definition above and make experiments of your own!Tÿ







;HELP-STARTTa1@Using matrix elements in VAR operation:A copy of the DECA data file is made by>COPY <Survo>\U\D\DECA.SVO <Survo>\TMP€A variable (Pratio) is computed as the ratio of a variable (Points)and its mean in the DECA data.Ta-1@Tp        Press ENTER!@TVC600@_@@Tp@The mean of Points can be obtained in several ways.TW10@Here basic statistics are computed (for all active variables) byTW10@MINSTAT DECATW10@€TW10@MINSTAT has saved the results as a matrix file STAT.M:TW10@MAT LOAD STAT.MTW10@€TW50@TW10@SCRATCH TW10@€TW10@TW10@The mean of Points is obtained from the matrix also asTW10@MAT_STAT.M(Points,mean)=TW10@€TW20@but this symbolic notation can be used in the VAR operation, too:TW10@VAR Pratio=Points/MAT_STAT.M(Points,mean) TO DECATW10@€TW10@..........Check:TW10@MINSTAT DECA,CUR+1 / VARS=PratioTW10@€TW10@Tÿ;HELP-STARTTa1@Various forms of the LINEDEL command is demonstrated by smallschematic examples.Ta-1@TW20@Ta1@LR1Deleting lines from 11 to 20:SET 9,22,8This is line€COUNT 9,22,8,912€PUTEND 9,22,.€LINEDEL 11,20Ta-1@TD2@€TD0@TW50@üTa1@SCRATCH€ and saving them to the edit file DEL1:SET 9,22,8This is line€COUNT 9,22,8,912€PUTEND 9,22,.€LINEDEL 11,20 / DEL_SAVE=DEL1Ta-1@TD2@€TD0@TW50@ü¶TW5@TW10@Deleted lines are saved in the edit file DEL1 as shown bySHOW DEL1TD2@€TD0@TW10@¶¶TW10@üLr1TW10@SCRATCH€TW10@Ta1@Deleting lines with 'A' or 'B' in the control column from lines 11-20:SET 9,22,8 This is line€COUNT 9,22,8,912€PUTEND 9,22,.€BAAABB¶LINEDEL 11,20,AB / DEL_SAVE=DEL2Ta-1@TD2@€TD0@TW30@ü¶Showing deleted lines:SHOW DEL2TD2@€TD0@TW10@¶¶TW20@Lr1SCRATCH€TW20@Ta1@üDeleting lines containing "Survo" from lines 11-20:SET 9,22,8This is line€COUNT 9,22,8,912€PUTEND 9,22,.€Survo appears here on the line 12.SurvoSURVO aaaaaaaaaaaaaSurvobbbbbbbbbbbbbbSurvoLINEDEL 11,20,"Survo" / DEL_SAVE=DEL3Ta-1@TD2@€TD0@TW30@¶Deleted lines are here:SHOW DEL3TD2@€TD0@TW10@¶¶TW20@Lr1SCRATCH€TW20@Ta1@üDeleting lines containing "µSurvoµµµµµµµ" from lines 11-20:SET 9,22,8This is line€COUNT 9,22,8,912€PUTEND 9,22,.€µSurvoµµµµµµµ appears here on the line 12.SurvoSURVO aaaaaaaaaaaaaµSurvobbbbbbbbbbbbbbµµµµµµµSurvoLINEDEL 11,20,"µSurvoµµµµµµµ" / DEL_SAVE=DEL4Ta-1@TD2@€TD0@TW30@¶Deleted lines are here:SHOW DEL4TD2@€L2TD0@TW30@¶¶TW40@Lr1SCRATCH€TW20@Ta1@üDeleting every fifth line starting from line 10:SET 9,50,8This is line€COUNT 9,50,8,912€PUTEND 9,50,.€LINEDEL 10,END,STEP,5TtC2@TD2@€TD0@TW30@TW30@TW10@µµµµµµµ End of LINEDEL demo Tÿ






;HELP-STARTTa1@Confidence intervals and bands are plotted for a simulated data set.Ta-1@TW20@Creating a file TEST for two variables X1,X2:TW10@FILE MAKE TEST,2,200,X,4TW10@€TW10@Generating data values according to linear model x2=2*x1+5+eps:TW10@X1=ORDER  (values 1,2,3,...,200)TW5@X2=5+2*X1+100*N.G(0,1,rand(2004))TW10@VAR X1,X2 TO TESTTW10@€TW10@Plotting a scatter diagram with various confidence intervalson level 0.95:TW20@CONF_BAND1=0.95 CONF_BAND2=[RED],0.95 CONF_BAND3=[GREEN],0.95TW20@TREND=0 Also a linear trend is plotted.TW10@MODE=1000,1000 PEN=[Arial(30)]TW10@GPLOT TEST,X1,X2TW10@€Tÿ;HELP-STARTTa1@Example of POWERS:In a certain combinatorial problem we know that, in principle, F hasthe form F=P(N,K) where P is a polynomial of N and K of at mostdegree of 3.We would like to find that polynomial by 'estimating' it fromthe following data:DATA NKF:(N,K,F) 4,1,48 4,2,68 4,3,64 5,1,80 5,2,124 5,3,136 5,4,1206,1,120 6,2,196 6,3,232 6,4,232 6,5,200 7,1,168 7,2,284 7,3,352 7,4,3767,5,360 7,6,308 8,1,224 8,2,388 8,3,496 8,4,552 8,5,560 8,6,524 8,7,4489,1,288 9,2,508 9,3,664 9,4,760 9,5,800 9,6,788 9,7,728 9,8,624 ENDTp        To continue, press ENTER!@Ta-1@TVC600@_@@Tp@Copying NKF to a new data file:TW10@FILE COPY NKF TO NEW NKF2TW20@€Making room for various power products of N and K:TW10@FILE EXPAND NKF2,14,7TW10@€.............................Computing power products of N and K up to degree 3:TW10@POWERS NKF2 / POW_VARS=N,K DEGREE=3 TYPE=2TW30@€TW10@.............................Selecting variables for linear regression:TW10@MASKTa-10@€XXYXXXXXXXTW5@²Ta10@TW20@LINREG NKF2,CUR+1 / RESULTS=0TW20@€TW10@TW40@Ta1@We have a 'complete' explanation and from the results one can read thatF=P(N,K)=4*(N^2*K-N*K^2)+2/3(K^3-K)=4*(N*K*(N-K)+C(K+1,3)).Of course, this is no proof in a strict mathematical sense, but itnicely supports theoretical derivations.Ta-1@Tÿ;HELP-STARTTa1@Example of testing autocorrelationsof residuals in a linear regression model:Ta-1@TW20@At first an artificial data set DWTEST with autoregresssive structureis created:TW10@Making a correlation matrix R of four variableS X1,X2,X3,X4:TW10@m=4 r=0.7MAT R=CON(m,m,1-r)+IDN(m,m,r)MAT RLABELS X TO RMAT CLABELS X TO RTW10@TW10@€TW10@TW10@1000 observations from the multivariate normal distribution N(0,R):TW10@MNSIMUL R,*,DWTEST,1000,0  / NEWSPACE=16,4TW10@€TW10@The variable EPS for the error term is defined:TW10@VAR EPS=0 TO DWTESTTW10@€TW10@.±An autoregressive error term EPS is generated:TW10@VAR EPS TO DWTESTEPS=if(ORDER<6)then(EPS2)else(EPS2-0.1*EPS[-3]-0.1*EPS[-5])EPS2=N.G(0,1,rand(2004))TW10@TW10@€TW10@TW10@The regressand Y is computed:TW10@VAR Y=1+X1+X2+X3+X4+EPS TO DWTESTTW10@€TW10@All theoretical regression coefficients are equal to 1 and the errorterm has autocorrelation of 3rd and 5th degree.TW20@.±Computing the regression model:TW10@Selecting variables:TW10@MASKTW10@Ta-7@TD1@€XXXX-Y²TD0@Ta7@DWN=10000 # of replicates in simulationTW20@MAXLAG=6  maximum lag for the generalized Durbin-Watson statisticsTW20@REGDIAG DWTEST,CUR+1TW20@€Essential autocorrelations are of degree 3 and 5 as expected.TW50@TW10@Ta1@The P values have been computed by using the DW(j) statistics, butalso autocorrelations are presented.The last column gives the standard errors of the P values.Ta-1@Tÿ;HELP-STARTTa1@Example of estimating an AR(p) model by ESTIMATE:Ta-1@TW20@At first an artificial data set AR3EST with autoregresssive structureAR(3) is created:TW10@Making a correlation matrix R of four variableS X1,X2,X3,X4:TW10@m=4 r=0.7MAT R=CON(m,m,1-r)+IDN(m,m,r)MAT RLABELS X TO RMAT CLABELS X TO RTW10@TW10@€TW10@TW10@400 observations from the multivariate normal distribution N(0,R):TW10@MNSIMUL R,*,AR3TEST,400,0  / NEWSPACE=16,4TW10@€TW10@Variables for the error term EPS and residuals RES are defined:VAR EPS,RES TO AR3TESTEPS=0 RES=0TW10@TW10@€TW10@.±The error term EPS is generated:VAR EPS TO AR3TESTEPS=if(ORDER<4)then(EPS2)else(EPS2+0.5*EPS[-1]+0.2*EPS[-2]+0.1*EPS[-3])EPS2=N.G(0,1,rand(2004))TW10@TW10@€TW10@TW10@The values of the dependent variable Y are computed:TW10@VAR Y=1+X1+X2+X3+X4+EPS TO AR3TESTTW10@€TW10@Thus the true regression coefficients and the constant term are all =1.TW10@In this simulation experiment, the error term will attain itsstationary distribution only after certain steps.TW10@TW10@Therefore let's remove the first 100 observations of AR3TEST:TW20@.±The last 300 observation are copied to a new temporary data file TEMP:FILE COPY AR3TEST TO NEW TEMP / IND=ORDER,101,400TW10@€TW10@.±TEMP (300 observations) is copied back as a new data file AR3TEST:FILE COPY TEMP TO NEW AR3TESTTW10@€TW10@.±Computing the regression model by the OLS (least squares) method:TW10@MASK=XXXX-RYDWN=10000 MAXLAG=6 / Testing autocorrelations, see DURBIN?TW10@REGDIAG AR3TEST,CUR+1TW10@€TW30@TW20@TW20@TW10@DW tests indicate strong autocorrelation among residuals.TW10@Also the constant term is far away from its true value 1 showing thatthe model is not valid.TW30@.±TW10@Now an AR(3) model is estimated by ESTIMATE:TW10@MASK=-----R / residuals to be saved in RESTW10@Defining the model AR3:TW10@{A0}=b0+b1*X1+b2*X2+b3*X3+b4*X4TW10@{A1}=r1*(Y[-1]-b0-b1*X1[-1]-b2*X2[-1]-b3*X3[-1]-b4*X4[-1])TW10@{A2}=r2*(Y[-2]-b0-b1*X1[-2]-b2*X2[-2]-b3*X3[-2]-b4*X4[-2])TW10@{A3}=r3*(Y[-3]-b0-b1*X1[-3]-b2*X2[-3]-b3*X3[-3]-b4*X4[-3])TW10@MODEL AR3Y={A0}+{A1}+{A2}+{A3}TW10@Initial values of b's are taken from the previous OLS estimation:TW10@b0=1.2871094b1=1.0383344b2=1.0385475b3=1.0684047b4=0.9161202TW10@ESTIMATE AR3TEST,AR3,CUR+1 / METHOD=M IND=ORDER,4,300TW20@TW10@€TW10@TW20@Now the regression coefficients are close to their true valuesnicely within the standard error.TW20@TW10@Also the autocorrelation parameters seem to have reasonable values.Their true values were 0.5,0.2,0.1.TW10@The residuals of this AR(3) model are not correlated anymore:TW10@XCORR AR3TEST,RES,RES,CUR+1TW10@TW10@€TW10@Tÿ;HELP-STARTTa1@µµµµµMean-deviation plotsThis |EXAMPLE| sucro shows how to make typical mean-deviation plotsusually required for studying results of attitude surveys.A suitable PLOT scheme for such graphs is created by a sucro command/DEVPLOT <data>,<type>where <type> is either VBAR or HBAR.The user may enhance the scheme afterwards according to ownrequirements.Data from an attitude survey are here generated at random.(It is a nice way for getting data without troubling anybody bysilly questions :)Thus at first a sample ATTITUDE from an "Attitude survey" is generated.It is done rapidly. You may inspect details later.ü>CD i1h=€BüTp        To proceed, press ENTER!@Ta-1@TVC1200@_@@Ta1@Tp@/ACTIVATE +Making a correlation structure for 20 variables (and 3 "factors"):m=20 n=3LR1MAT A=ZER(m,n)MAT #TRANSFORM A BY 0.5-rand(2004)MAT R!=A*A'MAT D=VD(R)MAT TRANSFORM D BY 1/sqrt(X#)MAT R=DV(D)*R*DV(D)Making means and stadard deviations:MAT M=ZER(m,2)MAT #TRANSFORM M BY 5-3.5*rand(2005)MAT D=ZER(m,1)MAT #TRANSFORM D BY 0.2+0.5*rand(2006)MAT M(1,2)=DA sample from a multivariate normal deviations is generated:MNSIMUL R,M,ATTITUDE,300,0    / TYPES=1Cancelling "outliers":TRANSFORM ATTITUDE BY if(X=0)then(MISSING)else(X)TRANSFORM ATTITUDE BY if(X>5)then(MISSING)else(X)Names for variables invented by the MARKOV operation from a listof English adjectives:FILE UPDATE ATTITUDEFIELDS:   1 NA_   1 Alling   2 NA_   1 Excial   3 NA_   1 Bizzled   4 NA_   1 Pastern   5 NA_   1 Averal   6 NA_   1 Vising   7 NA_   1 Stronthy   8 NA_   1 Moderly   9 NA_   1 Golish  10 NA_   1 Fistal  11 NA_   1 Sinable  12 NA_   1 Imative  13 NA_   1 Spative  14 NA_   1 Coadical  15 NA_   1 Arazing  16 NA_   1 Dainfair  17 NA_   1 Blural  18 NA_   1 Nonsense  19 NA_   1 Exastant  20 NA_   1 FampateEND.......................................................................Lr1ü++++++*+++++**+**++***+***********************+üLr1ü€300 observations from 20 variables in ATTITUDE are now ready.TtC2@TW20@VARS=ALL / Selecting variablesTW10@Making the mean-deviation graph by the /DEVPLOT sucro:TW10@/DEVPLOT ATTITUDE,VBARTD2@€TD0@TW50@'up' and 'down' variables may be computed also by other formulas.TW20@TW10@An 'improved' PostScript picture is obtained as follows:PLOT _STATM / TYPE=VBAR VARS=CASE,mean SHADING=2  NAMES=[Swissb(7)],3DEVICE=PS,K.PSYSCALE=0(1)5 PEN=[MOVE(0,0)] VALUES=[MOVE(-5,0)][Swiss(5)][WHITE],#.#,2/GS-PDF K.PS / Showing the picture by GhostView and Acrobat ReaderFILE DEL ATTITUDE / Delete the data file by activating this line!Tÿ



 /ACTIVATE +
;HELP-STARTTa1@Simulation experiment for an ARMAX(3,1) modelTa-1@TW20@A data file of 200 observations from ARMAX(3,1) is generated.TW10@At first a residual term U having the ARMA(3,1) structureis created.TW10@This is done in a general way suitable for other ARMA models, too.TW10@Therefore AR and MA structures are given as matrices.TW20@MATRIX AR/// ARr1  0.7r2 -0.35r3  0.2MATRIX MA/// MAa1  0.3s=1  / standard deviation of the error termTW10@MAT SAVE ARTW10@€MAT SAVE MATW10@€MAT DIM ARTW10@€TW10@MAT DIM MATW10@€TW10@FILE CREATE U,24,2TW10@FIELDS:1 N 8  U2 N 8  EEND€TW10@FILE INIT U,300TW10@€S1=for(i=1)to(rowAR)sum(MAT_AR(i)*U[-i])S2=for(i=1)to(rowMA)sum(MAT_MA(i)*E[-i])U=if(ORDER<4)then(0)else(U1)U1=S1+E+S2                 / structure (2)E=s*N.G(0,1,rand(2004))    / E from N(0,s^2) distributionVAR U,E TO U / 300 U values are generated.TW20@€.±To achieve stationarity, 100 first observations are removed:FILE COPY U TO NEW TEMP / IND=ORDER,101,300TW10@€There are now 200 ARMA(3,1) values U in the data file TEMP.TW20@.±Exogenous variables X1,X2,X3,X4 are selected from a multivariate normaldistribution:m=4 r=0.7MAT R=CON(m,m,1-r)+IDN(m,m,r)TW10@€MAT RLABELS X TO RTW10@€MAT CLABELS X TO RTW10@€MNSIMUL R,*,ARMA31,200,0  / NEWSPACE=16,4TW10@€VAR U,RES,EPS TO ARMA31U=0 RES=0 EPS=0€.±U values are copied to ARMA31:FILE COPY TEMP TO ARMA31 / VARS=U MATCH=#TW10@€.±Computing the regressand Y:VAR Y=1+X1+X2+X3+X4+U TO ARMA31TW10@€All regression parameters are equal to 1.TW20@.±OLS estimation:TW10@MASK=XXXX-R-YREGDIAG ARMA31,CUR+1 / DWN=10000 MAXLAG=6TW10@€TW20@TW30@.±Estimating the ARMAX(3,1) model:TW10@Initial values for s,b0-b4 are taken from OLS results.TW10@Those for ARMA parameters are searched for systematically (METHOD=G)as follows:TW10@{A0}=Y-b0-b1*X1-b2*X2-b3*X3-b4*X4{AR1}=r1*(Y[-1]-b0-b1*X1[-1]-b2*X2[-1]-b3*X3[-1]-b4*X4[-1]){AR2}=r2*(Y[-2]-b0-b1*X1[-2]-b2*X2[-2]-b3*X3[-2]-b4*X4[-2]){AR3}=r3*(Y[-3]-b0-b1*X1[-3]-b2*X2[-3]-b3*X3[-3]-b4*X4[-3]){EPS}={A0}-{AR1}-{AR2}-{AR3}-a1*EPS[-1]UPDATE=EPS#s=1.46       sqrt(2.12)=1.456...#b0=1.0895911#b1=1.1860186   # in front of the parameter indicates that#b2=1.0400418     it is held constant.#b3=0.8172322#b4=1.0348647r1=-0.9,0.9,0.1  / min,max,stepr2=-0.9,0.9,0.1r3=-0.9,0.9,0.1a1=0,0.9,0.1TW10@MODEL ARMALOGDENSITY=-0.5*(log(s*s)+({EPS})^2/(s*s))ESTIMATE ARMA31,ARMA,CUR+1  / PRIND=0  METHOD=GTW10@€TW50@.±TW10@Final estimation by using initial values just found:TW10@s=1.46         (By setting #s=1 an OLS solution would be found.)b0=1.0895911 b1=1.1860186 b2=1.0400418 b3=0.8172322 b4=1.0348647r1=0.7 r2=-0.4 r3=0.2 a1=0.3{A0}=Y-b0-b1*X1-b2*X2-b3*X3-b4*X4{AR1}=r1*(Y[-1]-b0-b1*X1[-1]-b2*X2[-1]-b3*X3[-1]-b4*X4[-1]){AR2}=r2*(Y[-2]-b0-b1*X1[-2]-b2*X2[-2]-b3*X3[-2]-b4*X4[-2]){AR3}=r3*(Y[-3]-b0-b1*X1[-3]-b2*X2[-3]-b3*X3[-3]-b4*X4[-3]){EPS}={A0}-{AR1}-{AR2}-{AR3}-a1*EPS[-1]UPDATE=EPSMODEL ARMALOGDENSITY=-0.5*(log(s*s)+({EPS})^2/(s*s))ESTIMATE ARMA31,ARMA,CUR+1  / PRIND=0 METHOD=D RESULTS=0TW20@€TW20@The estimates of ARMA parameters r1,r2,r3,a1 are not very accurate.TW10@It is due to very high correlations among them as one can see fromthe correlation matrix EST_CORR.M saved by ESTIMATE:TW20@MAT LOAD EST_CORR.M,12.12,CUR+1TW10@€TW10@TW30@.±Finally, let's study autocorrelations of EPS:2/sqrt(200)=€ (confidence limit on level 0.95)XCORR ARMA31,EPS,EPS,CUR+1TW10@€Tÿ;HELP-STARTTa1@µµµµµMinimum distances from centersDATA TEST,A,B,N,ML A A A G DD.DDDL X Y Z G DA 1 1 1B 2 3 1C 4 2 1D 3 2 2E 0 0 2üMNA***BüTa-1@TW30@CENTERS=2,4   RESULTS=0DIST TEST,CENTERS,CUR+1TW10@€Tÿ

;HELP-STARTTa1@µµµµµComparing mean vectors of two samplesCreating two samples from different two-dimensionalnormal distributions:FILE CREATE N2 / Creating a data file  Two samples from from different two-dimensional distributions  40 first observations: m11=0    m12=0     s11=1 s12=1 r1=0.8  60 last  observations: m21=0.2  m22=-0.2  s21=1 s22=1 r2=0.3FIELDS:1 N 4 X2 N 4 YENDTa-1@TW20@€TW20@Tp        Press ENTER!@TVC600@_@@Tp@üFILE INIT N2,100 / Space for 40+60=100 observationsTW10@€Ta1@VAR X,Y TO N2 / Generating data valuesX=if(ORDER<41)then(X1)else(X2)Y=if(ORDER<41)then(Y1)else(Y2)X1=Z1     Y1=r1*Z1+s1*Z2      s1=sqrt(1-r1*r1)X2=Z1+0.20 Y2=r2*Z1+s2*Z2-0.20 s2=sqrt(1-r2*r2)Z1=probit(rand(5))Z2=probit(rand(5))Ta-1@TW30@TW20@€üSamples are now ready.TW20@.±Copying them two their own files:FILE COPY N2 TO NEW N21 / IND=ORDER,1,40TW10@€TW10@FILE COPY N2 TO NEW N22 / IND=ORDER,41,100TW10@€TW10@.±Testing equality of covariances:TW10@COVTEST CUR+1 / SAMPLES=N21,N22TW20@€TW10@As expected (population correlations were 0.8 and 0.3) covariancesseem to be unequal.TW30@However, Let's start by using Hotelling's T2 test:TW10@T2TEST N21,N22,CUR+1    / SIMUMAX=100000 PRIND=0TW20@€TW20@.±TW5@Yao's generalized T2 test should be a better choice in this case:TW10@T2TEST N21,N22,CUR+1    / SIMUMAX=100000 PRIND=0 METHOD=2TW20@€TW20@Tÿ

;HELP-STARTTa1@µµµµµ Forecasts of GDP and its growth for 2004  Source: EurostatGDP is the gross domestic product per capita (Entire EU=100).Growth is given in percentages.Making a scatter plot from the following dataset:Ta-1@Tp        Press ENTER!@TVC600@_@@Tp@Entering data values:TW10@DATA EUCountry           GDP       GrowthBelgium           116.6     2.0Czech_Republic     69.9     2.9Denmark           124.0     2.1Germany           108.0     1.5Ta1@Estonia            48.8     5.4Greece             81.7     4.0Spain              96.3     2.8France            113.4     1.7Ireland           130.8     3.7Italy             106.3     1.2Cyprus             83.6     3.4Latvia             44.3     6.2Lithuania          48.3     6.9Luxembourg        208.1     2.4Hungary            62.0     3.2Malta              73.3     1.4Netherlands       118.6     1.0Austria           121.0     1.8Poland             47.2     4.6Portugal           74.0     0.8Slovenia           78.1     3.2Slovakia           51.5     4.0Finland           110.3     2.6Sweden            115.2     2.3United_Kingdom    120.7     3.0Ta-1@TW20@Ta1@Study functions of specifications by activating them by F2 F1!GPLOT EU,GDP,Growth / Activate this command!PEN=[BLACK][Arial(20)]POINT=[BLACK][ArialB(20)],CountryYSCALE=*log(y),0.75:_,1,2,3,4,5,6,7.1:_HEADER=[Arial(40)][BLUE],European_Union_2004MODE=800,600XDIV=50,700,50YDIV=70,460,70YLABEL=Growth_of_GDP_(%)GRID=[YELLOW],10,0.1FRAMES=F1,F2F1=0,0,800,600,-1F2=50,70,700,460,-2FILL(-1)=0.4,0.2,0,0FILL(-2)=0.2,0.1,0,0WHOME=0.4*WX,0.38*WYWSIZE=0.6*WX,0.55*WYDelete the graph by:GPLOT /DEL ALLTÿ;HELP-STARTTa1@µµµµµ Graphical rotation in factor analysis (data file DECA)0o>COPY =DECA.SVO€TtC2@Selecting visible (A), invisible (B), and external (X) variables:TW20@FILE ACTIVATE DECATa-15@€--ABAAABBBAAXX²Ta15@MASKTW10@€²TtC2@TW20@/EXTFACTA DECA,3TW20@ / Making a setup for graphical rotationTW20@€TtC2@TW30@üTW20@€O:First pair of axes 1,2 - Starting oblique rotation (O).|A109.22:Rotation starts - Selecting direction of Y axis (100m).|R:Rotation angle 109.22 degrees selected - Rotating (R).|N:Rotation confirmed - Selecting next pair of axes (N).|A131.132:Second pair of axes 1,3 - Y axis to direction 'Shotput'|R:Angle of 131.1 degrees selected - Rotating (R).|N:Rotation confirmed - Next pair of axes!|A100.134:Pair 2,3 of axes - Direction 'Shotput' will be selected.|R:Angle of 100.1 degrees selected - Rotating (R).|A13.2269:Rotation confirmed  - Selecting direction of X axis (100m).|R:Angle of 13.23 selected - X axis to this direction|N:X axis set - New pair of axis!|A108.905:Pair 1,2 again - Y axis through '100m'|R:Y axis set - Rotating|N:Rotation confirmed - Next pair of axes|N:No changes - Next pair of axes|X:No changes - Rotation is ready! (X)|Tb0@TW30@TW30@üTW20@The same solution is found by the cosine rotation, too.TW10@ Checking:TW10@MAT A1=AFACT.M / A1 is the solution of graphical rotation.TW10@€Making the cosine rotation:TW10@ROTATE FACT.M,3,CUR+1 / ROTATION=COSTW10@€TW30@Comparing results by transformation analysis:TW10@/TRAN-LEASTSQR A1,AFACT.MTW10@€TW20@€TW20@TW30@Thus there is a good correspondence between solutions.TW20@TW10@€TW10@TW10@The residuals are zeros as expected.TW10@                          The EndTÿ

;HELP-STARTTa1@µµµµµ Overall F-test in linear regression analysis For testing complete independence of the regressand and regressors(H0: All regression coefficients except constant term are equal to 0)REGDIAG computes the standard F test and its P-value and savesthese values as the elements RG.M(F) and RG.M(Pr_F) of thematrix RG.M of miscellaneous statistics.In this sucro the correctness of the F-test is studied bycreating N random samples from multivariate normal distributionN(0,I) of m+1 variables X1,X2,X3,...,Xm,Y. The sample size is n andfor each sample the linear model Y=b0+b1*X1+b2*X2+...bm*Xm+epsis estimated by REGDIAG. Values of N,n,m are selected by the user.Since in these cases H0 is true, the test statistics RG.M(F) shouldhave F-distribution or equivalently the P-value RG.M(Pr_F) of theF-test should be uniformly distributed on the interval (0,1).This is checked by using GHISTO for the N P-values obtained inthe simulation experiment.Ta-1@Tp        Press ENTER!@TVC1200@_@@Tp@.±üüüüT!1@C4@T!2@C1@T!3@C100@T!4@C10@T!5@C100001@T!9@C1@LR1Enter parameters:Number of regressors ? i1TKC600@@1@2@=Also constant term b0 (1=Yes, 0=No) ? i2TKC600@@2@1@@2Number of samples ? i3TKC600@@3@5@@3Number of cases in one sample ? i4TKC600@@4@3@@4Seed number 1 for random number generator ? i5TKC600@@5@10@@5üOUTPUT - / No results file€TW5@FILE DEL F_TEST.TXT / Empty text file for results€TW5@COPY CUR+1,CUR+1 TO F_TEST.TXTSeed    F          Pº / Labels (names of variables) €TW5@üT=1@1@+@C1@MAT I=IDN(k,k) / k== Identity matrix as a correlation matrixMAT RLABELS X TO I / Setting names of variablesMAT CLABELS X TO IMAT I(0,k)=YMAT I(k,0)=Y€TW10@€üüSimulation:T!8@C0@TIN2@C1@@GA@@CONSTANT=0TXA@¶RND=rand(@5)T=8@8@+@C1@             LOµµµµµSample #8/#3TIN9@C1@@GA1@@LoTXA1@MNSIMUL I,*,TEST,@4,0€REGDIAG TEST / MASK=T!10@C0@TXB@T=10@10@+@C1@TIN10@1@@GC@@XTLGB@TXC@Y€ACCURACY=7 MAT_RG.M(F)=€ i6w=           MAT_RG.M(Pr_F)=€ i7w=COPY CUR+1,CUR+1 TO F_TEST.TXT@5 @6 @7€üT=5@5@+@C1@TIN8@C3@GD@@GD@TtC0@T!9@C0@TXD@TIN8@3@GA@@@üLO.±TtC2@The P values should have uniform(0,1) distribution in this case:TW10@FILE SAVE F_TEST.TXT TO NEW F_TEST / Saving results to a Survo fileTW5@€Plotting the frequency distribution:TW5@GHISTO F_TEST,P,CUR+1 / P=0(0.1)1 FIT=UNIFORM(0,1)TW10@€º   µµµµµThe EndµµµTÿ
 def Wm=W1 Wc=W2 WN=W3 Wn=W4 Wseed=W5 WF=W6 WP=W7 Wcount=W8 Wdisp=W9
 def Wt=W10







;HELP-STARTTa1@µµµµµ Making Q-Q plots Ta-1@TW20@At first samples from two normal distributions are generated:TW10@m1=2 s1=2 m2=5 s2=3 / parameters of the distributionsTW10@FILE MAKE DAT1,1,1000,X,4TW10@€VAR X=N.G(m1,s1^2,rand(2005)) TO DAT1TW10@€FILE MAKE DAT2,1,1000,Y,4TW10@€VAR Y=N.G(m2,s2^2,rand(2006)) TO DAT2TW10@€A data file _QQ.SVO of quantiles is created byCOMPARE DAT1(X),DAT2(Y),CUR+1 / TEST=Q-Q    giving:TW10@€TW30@üActivating GPLOT above:TW10@TW10@€TW50@Since there are a linear mapping between parameters, points arelocated approximately on the (trend) line (y-m2)/s2=(x-m1)/s1 ory=a*x+b where a=s2/s1 and b=m2-s2*m1/s1.TW20@ Let's check this!TW10@üTW10@LINREG _QQ,CUR+1 / VARS=Y(Y),X(X) RESULTS=0TW10@€TW30@TW10@üTÿ


;HELP-STARTTa1@µµµµµ Markers of points in various colors ¶GPLOT C_DATA,X,Y / POINT_COLOR=C  POINT=0,20 XSCALE=0(1)16Colors gradually from from green to red: FILL(-1)=0.80,0.10,0.8,0 FILL(-2)=0.75,0.15,0.8,0 FILL(-3)=0.70,0.20,0.8,0 FILL(-4)=0.65,0.25,0.8,0 FILL(-5)=0.60,0.30,0.8,0 FILL(-6)=0.55,0.35,0.8,0 FILL(-7)=0.50,0.40,0.8,0 FILL(-8)=0.45,0.45,0.8,0 FILL(-9)=0.40,0.50,0.8,0FILL(-10)=0.35,0.55,0.8,0FILL(-11)=0.30,0.60,0.8,0FILL(-12)=0.25,0.65,0.8,0FILL(-13)=0.20,0.70,0.8,0FILL(-14)=0.15,0.75,0.8,0FILL(-15)=0.10,0.80,0.8,0DATA C_DATA X  Y   C 1  1  -1 2  1  -2 3  1  -3 4  1  -4 5  1  -5 6  1  -6 7  1  -7 8  1  -8 9  1  -910  1 -1011  1 -1112  1 -1213  1 -1314  1 -1415  1 -15¶€Tÿ;HELP-STARTTa1@µµµµµ Markers of points of various types and in various colors ¶GPLOT TC_DATA,X,Y / POINT_COLOR=C POINT_TYPE=T XSCALE=0(1)16                    POINT=0,24,X,15 MODE=1024,768                    WHOME=0.3*WX,0.25*WY WSIZE=0.6*WX,0.6*WYDATA TC_DATA X  Y  T   C 1  1  0  -1 2  1  6  -2 3  1  8  -3 4  1 10  -4 5  1  0  -5 6  1  6  -6 7  1  8  -7 8  1 10  -8 9  1  0  -910  1  6 -1011  1  8 -1112  1 10 -1213  1  0 -1314  1  6 -1415  1  8 -15Colors gradually from from green to red: FILL(-1)=0.80,0.10,0.8,0 FILL(-2)=0.75,0.15,0.8,0 FILL(-3)=0.70,0.20,0.8,0 FILL(-4)=0.65,0.25,0.8,0 FILL(-5)=0.60,0.30,0.8,0 FILL(-6)=0.55,0.35,0.8,0 FILL(-7)=0.50,0.40,0.8,0 FILL(-8)=0.45,0.45,0.8,0 FILL(-9)=0.40,0.50,0.8,0FILL(-10)=0.35,0.55,0.8,0FILL(-11)=0.30,0.60,0.8,0FILL(-12)=0.25,0.65,0.8,0FILL(-13)=0.20,0.70,0.8,0FILL(-14)=0.15,0.75,0.8,0FILL(-15)=0.10,0.80,0.8,0¶€Tÿ;HELP-START;P_TRIPLETÿ;HELP-STARTTa1@/WINMAX€Ta1@Bµµµµµ Making an age pyramid Age pyramids and related graphs are made in Survo by usingTYPE=PYRAMID specification.Population of Finland in age groups:DATA FINLAND Age    Males   Females _0-_4  145288  138405 _5-_9  152711  146723 10-14  168881  162552 15-19  162574  155531 20-24  170494  162870 25-29  169294  161559 30-34  156605  149749 35-39  181791  175525 40-44  192668  186798 45-49  193185  189539 50-54  199376  198117 55-59  205792  206535 60-64  132760  140349 65-69  113827  130362 70-74   90150  116186 75-79   68708  108389 80-84   37884   82359 85-89   14500   41544 90-      5589   21442TtC2@Tp        Press ENTER!@TVC1200@_@@Tp@.±Ta1@HEADER=[Swiss(20)],Population_of_Finland_(2004)GPLOT FINLAND / TYPE=PYRAMIDVARS=Age(L),Females(A),Males(B)Variables to be stacked to the left  indicated by masks 'A'Variables to be stacked to the right indicated by masks 'B'SHADING=3,1 / Colors 'red' and 'blue'MODE=PSLEGEND=- TEXTS=M,F M=Males,500,1350 F=Females,1000,1350WHOME=WX-0.75*WY,0 WSIZE=0.75*WY,0.5*WY / Placing the graphic windowGPLOT FINLAND / TYPE=PYRAMIDTD2@€TD0@TtC2@TW30@A better scaling:SCALE=-250000:_,-200000(100000)200000,250000:_TD2@€TD0@±1Tÿ;HELP-STARTTa1@Various forms of the LINEINS command is demonstrated by smallschematic examples.Ta-1@TW20@üInserting line (New line)after every third of linesTW15@Ta1@SET 11,22,10Line€COUNT ,1111€ºTa-1@ 11-22 byLINEINS 11,22,3,7TD2@€TD0@TW10@TW10@ü.±TW10@TW10@Inserting line µNew µµµµline!TW10@after each line containing text µµµµ SURVO MM TW20@This is the first line.TW10@Ta1@This one contains µµµµ SURVO MM µµµµ333333333 33333333333333333444444444444 44444444444555555 µµµµ SURVO MM µµµµ 555555556666666667777 µµµµ SURVO MM µµµ7777777778888888888ETa-1@TW20@TW5@LINEINS CUR+1,E,TEXT,31,29TD2@€TD0@TW20@üLINEDEL CUR+1,E,"New" / deleting 'New' linesTD2@€TD0@TW10@TW10@TW10@TW10@beforTW10@TW5@eTW5@TW10@TW10@TW5@-1TW5@TD2@€TD0@TW20@TW10@ü.±TW10@TW10@Inserting lineTW5@ µNew lineTW5@after each line with a control character '+':TW20@ FirstTW5@Ta1@ Second Third Fourth Fifth Sixth SeventhETa-1@TW5@TW5@+++TW10@TW10@LINEINS CUR+1,E,CONTROL,+,CUR-3TD2@€TD0@TW20@ü.±TW10@TW10@Making a list of selected integers both in Finnish and English:TW20@At first a survo macro (sucro) is createdfor unilingual listing:TW20@Ta1@TUTSAVE INTEGERS/ lists cardinal numbers W1-W2 either in Finnish or in English// def Wlanguage=W3 Wnumber=W4 Wline=W5/*{tempo -1}{Wnumber=W1-1}+ A: {Wnumber=Wnumber+1}{R}{erase}- if Wnumber > W2 then goto End- if Wlanguage '<>' Finnish then goto E/*{print Wnumber}(10:sanoin)={act}{save line Wline}+ B: {line start}{erase}{print Wnumber}  {print Wline}{goto A}/+ E:*{print Wnumber}(10:words)={act}{save line Wline}{goto B}+ End: {tempo +1}{end}BüDELETE€üº / Saving the sucro!Ta-1@TD2@€TD0@TW10@üTW10@TW10@Listing numbers 1997,1998,...,2006 in English:TW10@/INTEGERS 1997,2006,EnglishTD2@€TD0@TW10@TW15@TW10@Then the same numbers in Finnish:TW10@/INTEGERS 1997,2006,FinnishTD2@€TD0@TW10@üTW5@TW5@TW5@TW5@At last these lists are combined by LINEINS:TW10@TW10@TW5@xTW10@TW10@yTW10@LINEINS y,y+9,1,x:x+9TD2@€TD0@TW20@   µThe EndµµµµµµµTÿ








;HELP-STARTTa1@µµµµµ Continued fractions Studying representations for certain well-known constantsTa-1@TW30@x=sqrt(2)TW10@/CONTFRAC x,15TW20@€TtC2@TW50@.±TW10@Golden ratio x=(sqrt(5)-1)/2TW10@TW30@/CONTFRAC x,15TW20@€TtC2@TW50@üTW10@µRatios of consecutive Fibonacci numbers!TW20@µTW10@Simplest possible representation!TW30@.±üTW10@Ta1@For the real, irrational roots X=(-b+sqrt(b*b-4*a*c))/(2*a) ofan algbraic equation of second degree a*X^2+b*X+c=0 with rationalcoefficients the representation is always periodic. For example,the length of the period for a=456, b=1416, c=-131 is 4 as shown by/CONTFRAC X,12TtC2@TW50@€TtC2@TW50@üThe period is 11, 8, 5, 3 and the continued fraction is denoted byX = [0,11,8,5,3].       ________TW20@TW10@Then X satifies the equationTW10@Ta1@              1X = 0 + ------------------                 1        11 + -------------                    1             8 + ---------                       1                 5 + -----                     3 + Xwhich, of course, can be reduced to the original equation of 2nd degree.Ta-1@TW30@.±TW10@Ta1@The representation is interesting when in the equationa*X^2+b*X+c=0 we have b=0. Then the root is simply X=sqrt(-c/a).Assume that X > 1. Then X as a continued fraction seems always to havea 'palindromic' period        __________________________X = [a0,a1,a2,a3,...,a3,a2,a1,2*a0]TtC2@TW50@Example:x=sqrt(31/7)/CONTFRAC x,32TtC2@TW20@€TtC2@TW50@TW30@üTW10@The palindromic part is denoted as follows:TW20@TW10@---|||||||||||||---TW20@=2*a0TW5@and the length of the period is 16.TW10@  µThe EndµµµµµµµTÿ



;HELP-STARTTa1@µµµµµ Using the TRANSPOSE command 9(10:ascii)=€PBMany sources of data are giving series of observations as lines,not as columns. Such data sets must be 'transposed'.As an example, the following data set is saved as a text file TEST.TXT.SAVEP CUR+1,CUR+3,TEST.TXTYear2001200220032004200520062007Group 11.451.521.481.731.82.012.22Group 22.211.771.9422.32.412.52TtC2@TW50@€TW10@TW10@üItems in this file are separated from each other by TAB (char(9))characters. Such a tab-delimited presentation is very typical.TW20@Ta1@This data file is transposed by the following TRANSPOSE command.The DELIMITER specification tells the delimiting characters ininput and output files.TRANSPOSE TEST.TXT,TEST2.TXT / DELIMITER=TAB,|TtC2@TW50@€TW10@TW5@The result can be seen by activating a LOADP commandLOADP TEST2.TXTTW10@€TW50@TgC1@C1@C!@C1@C1@Tÿ
;HELP-STARTTa1@µµµµµ Using CODES commands The main target is to show how a file, containing standard Latincharacters, and saved in Unicode format(typically 2 bytes per character and the second one is 0)is converted to a standard ascii text file.TtC2@TW100@At first, a small unicode file TEST.TXT (containing text "SURVO MM")is 'created' by CODES SAVE:TW20@CODES SAVE TEST.TXT / BYTES=20Ta1@     0    83     1     0     2    85     3     0     4    82     5     0     6    86     7     0     8    79     9     0    10    32    11     0    12    77    13     0    14    77    15     0    16    13    17     0    18    10    19     0üTtC2@TW30@TD2@€TD0@TW10@üThis file cannot be shown or loaded by SHOW and LOADP commandsbut it can be converted into ascii format byCODES REMOVE TEST.TXT,TEST1.TXT,STEP,2TW10@TD2@€TD0@TW10@and the new file TEST1.TXT has the following internal structure:TW30@TW10@CODES LOAD TEST1.TXT    / BYTES=10TD2@€TD0@TW40@TW10@This file can be loaded into the edit field byLOADP TEST1.TXTTD2@€TD0@TW10@SURVO MMTW50@TgC1@C1@C!@C1@C1@Tÿ

;HELP-STARTTa1@µµµµµ Recursive computation scheme Let L(N) be the number of lines going through at least two pointsin an NxN grid of points. A recursive formula for L(N) is presented inµhttp://www.survo.fi/papers/PointsInGrid.pdf(See formulas 21-23 on page 11).The following computation scheme corresponds to those formulas:L(N)|=if(N<2)then(0)else(2*L1(N)-L(N-1)+R1(N))L1(N)|=if(N<3)then(1)else(2*L(N-1)-L1(N-1)+R2(N)) R1(N):=4*S(N)S(N):=for(I=2)to(N)sum(totient(I-1)-e(I))e(N):=if(mod(N,2)=0)then(0)else(totient((N-1)/2))R2(N):=if(mod(N,2)=0)then((N-1)*totient(N-1))else(R21(N))R21(N):=if(mod(N,4)=1)then((N-1)*totient(N-1)/2)else(0)Please calculate, for example, the following values:L(120)=L(300)=                 (This may lead to a stack overflow)Increase the check_stack value by activating and try again:SYSTEM check_stack=9000000Tÿ