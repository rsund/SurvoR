SURVO84ED 81 200    81 S20                                                       *SAVE EDQF4                                                                      *LOAD EDQ                                                                        *FACTIV?                                                                         *After a Survo data file has been created all the fields are active              *and unprotected.                                                                *When a field is active, it will be used and it will be displayed in             *all Survo operations which treat the data file as a whole.                      *When a field is unprotected, its values can be changed.                         *                                                                                *To change the status of the fields with respect to these properties,            *a FILE ACTIVATE operation is used. Since this operation is very common,         *it can be started for the current data file also simply by pressing             *FILE_ACT (alt-F6).                                                              *When activating and protecting fields we have a display where one               *line is reserved for each field of the data file. If there are more             *than 20 fields, several pages of a similar type will be available. @C           *For example, in case of the COMMUNES file (see FILE CREATE) this display        Scould be following: (The emphasized character indicates the cursor.)            *------------------------------------------------------------------------        *Data file: COMMUNES M= 14 Col= 1   M(active)=  5  M(protected)=  0              S   1 A-  Commune  Name of the commune                                           *   2 A-  Province UUS,TUR,AHV,HŽM,KYM,MIK,KAR,KUO,KES,VAA,OUL,LAP               *   3 A-  People   Population 1.1.1980 (######) {{100,500000}                    *   4 A-  Births   Live births in 1978 (####) {{0,6000}                          *   5 A-  Area     Land area km^2 1.1.1979 (#####.##)                            *                                                                                *Denote passive variables by - and active by A,X,Y etc.  Stop by EXIT!           *                                                                                *------------------------------------------------------------------------        *After the field number a set of mask columns (now filled with A--)              *are displayed and these columns can now be edited simply by moving the          *cursor and overtyping.                                                          *The first column (now filled by A's) is meant for activation. Usually           *all symbols except '-' indicate an active field, but in some operations         *different symbols tell more about the role of the field. For example,           *in linear regression analysis (LINREG) 'Y' is a regressand, 'X' is              *a regressor, 'R' is a residual variable, etc.                                   *@C                                                                              *The second one-character column is for protection of the fields.                *It is originally filled with '-'s which means that no field is protected        *and its values can be changed. To protect a field, simply move the              *cursor to that column and put 'P' instead of '-'.                               *For example, the display below indicates a situation where the fields           *'People', 'Births' and 'Area' are active and the fields 'Commune',              *'Province' and 'People' are protected:                                          *------------------------------------------------------------------------        *Data file: COMMUNES M= 14 Col= 2   M(active)=  4  M(protected)=  3              S   1 -P  Commune  Name of the commune                                           *   2 AP  Province UUS,TUR,AHV,HŽM,KYM,MIK,KAR,KUO,KES,VAA,OUL,LAP               *   3 AP  People   Population 1.1.1980 (######) {{100,500000}                    *   4 A-  Births   Live births in 1978 (####) {{0,6000}                          *   5 A-  Area     Land area km^2 1.1.1979 (#####.##)                            *                                                                                *Denote protected variables by P. Stop by EXIT!                                  *                                                                                *------------------------------------------------------------------------        *@C                                                                              *As an option the scale types of the statistical variables can be given          *as mask column 3. By default this column is empty.                              *More information about scale types is found by SCALES?.                         *------------------------------------------------------------------------        *Data file: COMMUNES M= 14 Col= 3   M(active)=  4  M(protected)=  3              *   1 -P- Commune  Name of the commune                                           S   2 APN Province UUS,TUR,AHV,HŽM,KYM,MIK,KAR,KUO,KES,VAA,OUL,LAP               *   3 APF People   Population 1.1.1980 (######) {{100,500000}                    *   4 A-F Births   Live births in 1978 (####) {{0,6000}                          *   5 A-R Area     Land area km^2 1.1.1979 (#####.##)                            *                                                                                *Enter scale types: N=nominal, O=order, I=interval, R=ratio, -=no                *                                                                                *------------------------------------------------------------------------        *@C                                                                              *Additional mask columns become visible by pressing ESC.                         *These columns can be used to save various selections of variables               *and they are referred to by the MASK specification of the form                  *MASK=#7 (=mask column 7) in Survo operations.                                   *The mask columns can be interchanged during file activation by the              *COPY key.                                                                       *A typical situation after pressing ESC is displayed. Here the mask              *column 7 is being edited.                                                       *------------------------------------------------------------------------        *Data file: COMMUNES M= 14 Col= 7   M(active)=  4  M(protected)=  3              *   1 -P---A- Commune  Name of the commune                                       *   2 APN---- Province UUS,TUR,AHV,HŽM,KYM,MIK,KAR,KUO,KES,VAA,OUL,LAP           S   3 APF--AX People   Population 1.1.1980 (######) {{100,500000}                *   4 A-F--AX Births   Live births in 1978 (####) {{0,6000}                      *   5 A-R--AY Area     Land area km^2 1.1.1979 (#####.##)                        *                                                                                *To stop, press EXIT!                                                            *------------------------------------------------------------------------        *More information during file activation mode is obtained by the HELP key.      C*  M = MASK operation/specification for dynamic activation                       *  D = More information on data management                                       %M=MASK? D=FILE?                                                                 *                                                                                *FSORT?                                                                          @FILE SORT <data file> BY <list of sort keys> TO <new data file>                 *where <list of sort keys> has the form  <field 1>,<field 2>,...                 *sorts the observations of <data file> in the order specified by                 *<list of sort keys> and places the sorted data to <new data file>.              *In <list of sort keys> <field 1> is the primary sort key, <field 2>             *the secondary one, etc.                                                         *In case of a numeric field (sort key) the data is sorted in ascending           *order. However, a '-' in front of the sort key causes the data to be            *sorted in descending order.                                                     *In case of a string field as a sort key, any part of the field can be used      *by indicating the first and last byte in the form                               *<name_of the_field>[<first_byte>:<last_byte>].                                  *                                                                                *For example,                                                                    *FILE SORT COMMUNES BY Province[1:3],-People TO B:COMSORT                        *sorts the data in COMMUNES primarily with respect to counties                   *using the 3 first letters as the sort key and then within the                   *counties in descending order with respect of 'People'.                          *                                                                                *In case of ties the original order will be preserved.                           *@C                                                                              *If string fields appear as a part of the sort key, the characters               *are sorted according to the order specified by a FILTER=<code_file>             *specification. In <code_file> the complete pathname must be given.              *Default is FILTER=SORTCODE.BIN which equates lower case letters to upper        *case ones.                                                                      *You may study existing code files (extension .BIN) and create new code          *files by using the CODES SAVE and CODES LOAD operations.                        *If no cases are active, an error message is displayed. This message is         C*avoided and an empty <new data file> created by specification SAVE=1.          C*As an option, a limited number of the records in the sorted data are            *moved to <new data file>. By giving NSORT=k, only k first of the                *sorted records are moved.                                                       *This is an useful option when FILE SORT is used for taking random               *samples. Then random variable, say R, is computed by VAR R=rnd(0)               *and the data is sorted with respect of R by                                     *FILE SORT <data file> BY R TO <new data file>  / NSORT=<samplesize>             *  F = Additional specifications for space allocation & intermediate files       *  D = More information on data management                                       *  C = CODES operations                                                          *  S = Sorting of lines in the edit field                                        *  A = Saving the sort keys                                                     C%F=FSORT2? D=FILE? C=CODES? S=SORT? A=SAVESORT?                                  *@SELECT                                                                         *                                                                                *FINIT?                                                                          @FILE INIT <data_file>,N                                                         *adds N new missing observations to the end of <data_file>.                      *Since, for example, VAR operates on existing observations only,                 *FILE INIT can be used for making space for simulated data etc.                  *                                                                                *  D = More information on data management                                       %D=FILE?                                                                         *@SELECT                                                                         *                                                                                *FMASK?                                                                          @FILE MASK <data>,<1st_var>,<mask_column>,<masks>                                *writes <masks> in <mask_column> from <1st_var> onwards.                         *Example: FILE MASK DATA1,CASE,1,---                                             *makes variable CASE and two next ones passive (-) in data file DATA1.           *                                                                                *Other forms of FILE MASK:                                                       *FILE MASK DATA1,VAR3,1,A...                                                     *sets mask A (in mask column 1) for variables from VAR3 onwards.                 *FILE MASK DATA1,#2,3,P...                                                      C*sets mask P (in mask column 3) for variables from variable #2 onwards,         C*i.e. protects them.                                                            C*FILE MASK DATA1,(XYZ),1,A                                                      C*sets mask A (in mask column 1) for variables activated by X,Y, or Z.           C*@C                                                                              *FILE MASK with a MASKING list: (Example)                                       C*                                                                                *FILE MASK DECA,M1,1                                                             *                      Comments                                                  *MASKING M1                                                                      *Points:           Y / Regressand Points                                         *100m-400m,Weight: X / Regressors 100m,L_jump,Shot_put,L_jump,400m,Weight        *RES:              R / Residuals  RES                                            *OTHERS:           -                                                             *END                                                                             *                                                                                *Also indices of variables can be used. Thus in DECA, #3-#7 is the same          *as 100m-400m.                                                                   *                                                                                *  D = More information on data management                                       %D=FILE?                                                                         *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                *                                                                                Shadows                                                                                                     5555555555                                                  5                                                                        0        5                                                                       @         5                                                                      U             5                                                                  END                                                                              